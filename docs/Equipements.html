
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Equipements supportés &#8212; Documentation Abeille 11.02.2021</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Liste des équipements compatibles" href="devices/CompatibilityList.html" />
    <link rel="prev" title="Introduction" href="Presentation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/Abeille_icon.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="Presentation.html" title="Chapitre précédent">Introduction</a></li>
      <li>Next: <a href="devices/CompatibilityList.html" title="Chapitre suivant">Liste des équipements compatibles</a></li>
  </ul></li>
</ul>
</div><h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Bienvenu.html">Bienvenu</a></li>
<li class="toctree-l1"><a class="reference internal" href="Presentation.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Equipements supportés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="devices/CompatibilityList.html">Liste des équipements compatibles</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Eurotronics.html">Eurotronics</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Danfoss.html">Danfoss</a></li>
<li class="toctree-l2"><a class="reference internal" href="DIY.html">Do It Yourself</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Heiman.html">Heiman</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Ikea.html">Ikea</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Innr.html">Innr</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Konke.html">Konke</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Legrand.html">Legrand</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Livolo.html">Livolo</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/OSRAM.html">OSRAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/PhilipsHue.html">Philips Hue</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Profalux.html">Profalux</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/SonOff.html">SonOff</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Tuya.html">Tuya</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices/Xiaomi.html">Xiaomi</a></li>
<li class="toctree-l2"><a class="reference internal" href="#eurotronics">Eurotronics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#radiateur">Radiateur</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#danfoss">Danfoss</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#premiere-mise-sous-tension">Premiere mise sous tension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#observations">Observations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">inclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fonctions">Fonctions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#diy">DIY</a></li>
<li class="toctree-l2"><a class="reference internal" href="#heiman">Heiman</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detecteur-de-fumee">Detecteur de fumée</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ikea">Ikea</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ampoule">Ampoule</a></li>
<li class="toctree-l3"><a class="reference internal" href="#telecommande-ronde-5-boutons">Télécommande Ronde 5 boutons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#telecommande-virtuelle">Télécommande Virtuelle</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gradateur">Gradateur</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prise">Prise</a></li>
<li class="toctree-l3"><a class="reference internal" href="#telecommande">Télécommande</a></li>
<li class="toctree-l3"><a class="reference internal" href="#store">Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="#telecommande-store">Telecommande Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="#routeur-repeteur">Routeur (Repeteur)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ir-detecteur-de-presence-e1525-e1575">IR - Detecteur de presence (E1525/E1575)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#innr">Innr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Telecommande</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#konke">Konke</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#temperature-humidite">Temperature / Humidité</a></li>
<li class="toctree-l3"><a class="reference internal" href="#door">Door</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bouton">Bouton</a></li>
<li class="toctree-l3"><a class="reference internal" href="#infra-rouge">Infra-Rouge</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#legrand">Legrand</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contacteur-20ax">Contacteur 20AX</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prise-220v">Prise 220V</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-encastre">Module Encastré</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interrupteur-sans-neutre">Interrupteur Sans neutre</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interrupteur-on-off-sur-pile">Interrupteur On/Off sur pile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interrupteur-entree-sortie-sur-pile">Interrupteur Entrée/Sortie sur pile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#livolo">Livolo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#caracteristiques">Caracteristiques</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interrupteur-1-btn-2-btn">Interrupteur 1 btn &amp; 2 btn</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#onoffcontroller">OnOffController</a></li>
<li class="toctree-l2"><a class="reference internal" href="#osram">OSRAM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prise-smart">Prise Smart +</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ampoules">Ampoules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#routage">Routage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lightify-switch">Lightify Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motion-sensor">Motion Sensor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#philips-hue">Philips Hue</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ampoule-1">Ampoule 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ampoule-2">Ampoule 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dimmer">Dimmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Prise</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motion-sensor-indoor">Motion Sensor Indoor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature">Température</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motion-sensor-outdoor">Motion Sensor Outdoor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#profalux">Profalux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#volet">Volet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#avance">Avancé</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sonoff">SonOff</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sonoff-snzb-01-interrupteur">SonOff SNZB-01: Interrupteur</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sonoff-snzb-02-temperature-humidite">SonOff SNZB-02: Temperature / Humidité</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sonoff-snzb-03-capteur-ir">SonOff SNZB-03: Capteur IR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sonoff-snzb-04-capteur-de-porte">SonOff SNZB-04: Capteur de porte</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sonoff-basiczbr3-module-10a">SonOff BASICZBR3: Module 10A</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tuya">Tuya</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#interrupteur-sur-pile-ts0043">Interrupteur sur pile TS0043</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#xiaomi">Xiaomi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tous">Tous</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bouton-rond">Bouton Rond</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bouton-carre">Bouton Carre</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inondation">Inondation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#porte-v1">Porte V1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#porte-v2">Porte V2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#presence-v2">Présence V2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-v1">Température V1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-v2">Température V2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cube-aqara">Cube Aqara</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wall-switch-1">Wall Switch 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wall-switch-2">Wall Switch 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vibration">Vibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fumee">Fumée</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gaz">Gaz</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Prise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Utilisation.html">Utilisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Utilisation.html#la-page-de-configuration-d-abeille">La page de configuration d’Abeille</a></li>
<li class="toctree-l1"><a class="reference internal" href="UtilisationAvancee.html">Utilisation avancée</a></li>
<li class="toctree-l1"><a class="reference internal" href="AjoutNouvelEquipement.html">Ajout d’un nouvel équipement</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Questions fréquentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="Divers.html">Divers</a></li>
<li class="toctree-l1"><a class="reference internal" href="DIY.html">Do It Yourself</a></li>
<li class="toctree-l1"><a class="reference internal" href="Debug.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="Developpement.html">Developpement</a></li>
<li class="toctree-l1"><a class="reference internal" href="Changelog.html">ChangeLog</a></li>
</ul>


        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="equipements-supportes">
<h1>Equipements supportés<a class="headerlink" href="#equipements-supportes" title="Lien permanent vers ce titre">¶</a></h1>
<p>La liste la plus complète est la suivante <a class="reference internal" href="devices/CompatibilityList.html"><span class="doc">Liste des équipements compatibles</span></a> mais notez qu’elle peut ne pas être à jour.</p>
<p>Vous trouverez ci-dessous quelque informations ou procédures par marque pour certains équipements.</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="eurotronics">
<h2>Eurotronics<a class="headerlink" href="#eurotronics" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="radiateur">
<h3>Radiateur<a class="headerlink" href="#radiateur" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="inclusion">
<h4>Inclusion<a class="headerlink" href="#inclusion" title="Lien permanent vers ce titre">¶</a></h4>
<blockquote class="epigraph">
<div><p>Traduction de la doc</p>
<p>Une fois les piles insérées, PrP apparaît à l’écran et le Spirit ZigBee est prêt à être assemblé. Le Spirit ZigBee est réglé en usine en mode Add-in et affiche Jin en connexion avec une icône de radio clignotante sur l’écran LCD.
Si le Spirit ZigBee a été ajouté avec succès, l’écran LCD affiche en permanence l’icône de la radio et le voyant clignote en vert.
Pour continuer la mise en service, le bouton Boost doit maintenant être confirmé.
Affiche l’écran LCD « InS », l’assemblage peut être effectué. Continuer avec « 4.5 Montage sur le radiateur ».</p>
</div></blockquote>
<p>Après un reset un appuis sur e bouton central provoque l’association et la creation dans Abeille de la vanne (Zigate en mode inclusion lors de la manipulation).</p>
</div>
<div class="section" id="fonctionnement">
<h4>Fonctionnement<a class="headerlink" href="#fonctionnement" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li><p>La vanne envoie à Abeille la température de la pièce.</p></li>
<li><p>La vanne envoie à Abeille son taux d’ouverture en cours.</p></li>
<li><p>Le mode Boost permit d’ouvrir la vanne a fond (pendant 15 min (a verifier je ne suis plus sure au moment d écrire la doc.)).</p></li>
<li><p>La vanne peut fonctionner en deux modes. Mode automatique, la vanne régule la température toute seule. Mode manuel, Abeille pilote le taux d’ouverture de la vanne (il n’y a pas de regulation de temperature fait par la vanne).</p></li>
<li><p>La vanne demande au réseau toutes le 6s les commandes à executer. La vanne doit répondre dans les 6s aux demandes Abeille.</p></li>
<li><p>Vous pouvez faire pivoter l affichage de haut en bas en fonction de la position de votre vanne pour faciliter la lecture.</p></li>
<li></li>
</ul>
</div>
<div class="section" id="reset">
<h4>Reset<a class="headerlink" href="#reset" title="Lien permanent vers ce titre">¶</a></h4>
<blockquote class="epigraph">
<div><p>Traduction de la doc:</p>
<p>Maintenez les touches boost, moins et plus enfoncées jusqu’à ce que le compteur de l’écran LCD atteigne 10. Ne relâchez le bouton que lorsque l’écran LCD affiche « rES ». La réinitialisation est effectuée peu de temps après le relâchement du bouton. L’écran LCD affiche «PrP» et le poussoir de la vanne passe en position de montage.</p>
</div></blockquote>
<p>Quand on fait ca, l’écran fait un countdown et le reset se produit. Puis l’écran affiche Rst.</p>
</div>
<div class="section" id="abeille">
<h4>Abeille<a class="headerlink" href="#abeille" title="Lien permanent vers ce titre">¶</a></h4>
</div>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Lien permanent vers ce titre">¶</a></h4>
<p>Abeille configure la tête pour</p>
<ul class="simple">
<li><p>remonter le niveau de batterie toutes le 43200s, soit 12h.</p></li>
<li><p>remonter la temperature toutes les 3500s (1h) au minimum ou pas plus souvent que toutes les 300s (5 mins).</p></li>
</ul>
</div>
<div class="section" id="timeout">
<h4>TimeOut<a class="headerlink" href="#timeout" title="Lien permanent vers ce titre">¶</a></h4>
<ul class="simple">
<li><p>Ne pas le mettre sous les 1h (Voir Configuration)</p></li>
</ul>
</div>
<div class="section" id="homebridge">
<h4>Homebridge<a class="headerlink" href="#homebridge" title="Lien permanent vers ce titre">¶</a></h4>
<p>Voici la configuration qui fonctionne sur mon système:</p>
<img alt="_images/Capture_d_ecran_2019_04_13_a_22_22-22.png" src="_images/Capture_d_ecran_2019_04_13_a_22_22-22.png" />
</div>
</div>
</div>
<div class="section" id="danfoss">
<h2>Danfoss<a class="headerlink" href="#danfoss" title="Lien permanent vers ce titre">¶</a></h2>
<img alt="_images/Capture_d_ecran_2019_07_06_a_09_17_19.png" src="_images/Capture_d_ecran_2019_07_06_a_09_17_19.png" />
<div class="section" id="premiere-mise-sous-tension">
<h3>Premiere mise sous tension<a class="headerlink" href="#premiere-mise-sous-tension" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>Mettre la zigate en mode inclusion</p></li>
<li><p>Enlever le couvercle d’Ally en tirant et en appuyant sur le clips situé en dessous</p></li>
<li><p>Retirer la bande papier qui protège les piles</p></li>
<li><p>Un appui court sur le bouton proche écran</p></li>
<li><p>L’inclusion doit se faire et vous devez voir Ally dans la liste des équipements</p></li>
</ul>
</div>
<div class="section" id="observations">
<h3>Observations<a class="headerlink" href="#observations" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p>Test fait sur canal 15.</p></li>
<li><p>Répond dans les 7s à  un getName ou getEP.</p></li>
<li><p>Affichage éteint par défaut.</p></li>
</ul>
</div>
<div class="section" id="id1">
<h3>inclusion<a class="headerlink" href="#id1" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://github.com/KiwiHC16/AbeilleDoc/blob/master/docs/products/eTRV0100/AN235786405824en-010101.pdf">https://github.com/KiwiHC16/AbeilleDoc/blob/master/docs/products/eTRV0100/AN235786405824en-010101.pdf</a></p>
</div>
<div class="section" id="fonctions">
<h3>Fonctions<a class="headerlink" href="#fonctions" title="Lien permanent vers ce titre">¶</a></h3>
<dl class="simple">
<dt>Fonctionne:</dt><dd><ul class="simple">
<li><p>Définition de la consigne de temperature de chauffage (Consigne)</p></li>
<li><p>Lecture de la consigne de temperature de chauffage (Consigne)</p></li>
<li><p>Lecture de la température ambiante</p></li>
<li><p>Lecture du mode en cours (D apres la norme: 00: Off, 01: Auto, 03: Cool, 04: Heat, 05: Emergency Heating, 06: Pre Cooling, 07: Fan Onl )</p></li>
<li><p>Lecture Batterie pourcentage</p></li>
<li><p>Lecture Batterie voltage</p></li>
<li><p>Lecture Mode Affichage (D apres norme: 00: Temperature en °C, 01: Temperature en °F)</p></li>
<li><p>Definition du Mode d affichage (mais la tete refuse le mode °F)</p></li>
<li><p>Lecture Key Lock (D apres norme: 00: No Lockout, 01: Level 1 Lockout, 02: Level 2, 03: Level 3, 04: Level 4, 05: Level 5 (le moins de fonctionalité pour l utilisateur))</p></li>
<li><p>Definition du niveau de Lockout (1 à 5): il n accepte que les valeurs 0 et 1. A 1 on ne peut pas modifier la temperature en tournant la molette. A 0 oui.</p></li>
</ul>
</dd>
<dt>Pas supporté:</dt><dd><ul class="simple">
<li></li>
</ul>
</dd>
</dl>
<p>En cours d investigation:</p>
</div>
</div>
<div class="section" id="diy">
<h2>DIY<a class="headerlink" href="#diy" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce chapitre regroupe les informations sur les équipements <a class="reference internal" href="DIY.html"><span class="doc">Do It Yourself</span></a></p>
</div>
<div class="section" id="heiman">
<h2>Heiman<a class="headerlink" href="#heiman" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="detecteur-de-fumee">
<h3>Detecteur de fumée<a class="headerlink" href="#detecteur-de-fumee" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion
= = = = =</p>
<p>ZiGate en mode Inclusion
Trombone dans petit trou sur le côté pendant 4s, le device fait un Beacon, flash en vert en face avant, s’appaire et est créé dans Abeille.</p>
<img alt="_images/Capture_d_ecran_2019_07_06_a_11_40_01.png" src="_images/Capture_d_ecran_2019_07_06_a_11_40_01.png" />
<p>Exclusion
= = = = =</p>
<p>Trombone dans petit trou sur le côté pendant 8s, le device fait un Leave. Bouton face avant flash plusieurs fois en vert.</p>
<p>Dans le réseau
- - - -</p>
<p>Le bouton en face avant flash une fois de temps en temps en rouge environ toutes les 45 secondes.</p>
<p>Batterie
- - - -</p>
<p>L’équipement remonte le niveau de sa batterie. Abeille le traite et l’affiche.</p>
<p>Alarme
- - - -</p>
<p>L’information brute remonte dans Abeille. Par défaut sans alarme la valeur est à 20. Avec alarme l’information est à 21.</p>
<p>Un appui sur le bouton de la face avant provoque une alarme (un message remonte) et lors de la relache un autre message est envoyé pour indiquer fin d’alarme.</p>
<p>Vous pouvez décoder les informations remontant sur la base de :</p>
<img alt="_images/Capture_d_ecran_2019_07_09_a_15_51_27.png" src="_images/Capture_d_ecran_2019_07_09_a_15_51_27.png" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pour tester, prendre un briquet, l’allumer et le placer sous le capteur. Le capteur active son alarme, attention aux oreilles, et le champ passe à 21 dans Abeille.</p>
</div>
</div>
</div>
<div class="section" id="ikea">
<h2>Ikea<a class="headerlink" href="#ikea" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="ampoule">
<h3>Ampoule<a class="headerlink" href="#ampoule" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Mémo</strong></p>
<p>Un petit mémo avec la télécommande Hue à 20€ pour ceux qui, comme moi, vont devoir ré-inclure toutes leurs ampoules Ikea avec l’upgrade en 3.0F…</p>
<ol class="arabic simple">
<li><p>On appuie sur ON + OFF ( 1 + 0) simultanément pendant 5 secondes à 50 cm de l’ampoule (sous tension bien entendu)</p></li>
<li><p>On ouvre le réseau ZigBee de votre coordinateur (ZiGate par exemple)</p></li>
<li><p>On éteint puis on remet sous tension l’ampoule qui s’appaire au coordinateur</p></li>
<li><p>Pendant que le réseau est ouvert, on retourne la télécommande et à l’aide d’un trombone, on appuie sur le bouton setup pendant 5-10 secondes.</p></li>
<li><p>La télécommande joint à son tour le réseau ZigBee</p></li>
<li><p>Si on le souhaite, on peut associer la télécommande et l’ampoule en maintenant le bouton ON (1) pendant 5 secondes à 50 cm de l’ampoule (toujours sous tension).</p></li>
</ol>
<p>Pour les ampoules recalcitrantes:
Je viens de réussir ! J’ai réalisé un scénario qui commande une prise connectée (Ikea aussi tiens :D ). Voici ma méthode qui semble fonctionner, en tout cas chez moi 2/2 OK :
Mode inclusion
ON du spot
Boucle qui fait 6 fois : OFF / sleep 2s / ON / sleep 0.5s .</p>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Faire un reset de l’ampoule en partant de la position allumée, puis 6 fois, éteindre-allumer. Il n’est pas facile d’avoir le reset… et après maintes tentatives, vous devriez récupérer l’ampoule dans Jeedom. Autre solution bien plus simple utiliser une télécommande Philips Hue (Hue Dimmer Switch) et forcer le reset par un bouton I + bouton O appuyés suffisamment longtemps. Une fois associée, il est possible d’avoir besoin d’éteindre, attendre 10 secondes et allumer.</p></li>
</ul>
<p><strong>Déjà inclue</strong></p>
<ul class="simple">
<li><p>Zigate en fonctionnement normale</p></li>
<li><p>Éteindre l’ampoule 15s puis la rallumer</p></li>
</ul>
<p><strong>Identify</strong></p>
<p>Ce bouton est créé au moment de la création de l’objet. Celui ci permet de demander à l’ampoule de se manifester. Elle se met à changer d’intensité ce qui nous permet de la repérer dans une groupe d’ampoules par exemple.</p>
<p><strong>Bind</strong></p>
<p>Identifiez l’ampoule que vous voulez paramétrer:</p>
<img alt="_images/Capture_d_ecran_2018-02_21_a_23_26_56.png" src="_images/Capture_d_ecran_2018-02_21_a_23_26_56.png" />
<p>Récupérer son adresse IEEE, son adresse courte (ici 6766).</p>
<p>De même, dans l’objet Ruche récupérez l’adresse IEEE (Si l’info n’est pas dispo, un reset de la Zigate depuis l objet ruche doit faire remonter l’information).</p>
<p>Mettre dans le champ:</p>
<ul class="simple">
<li><p>Titre, l’adresse IEEE de l’ampoule que vous voulez paramétrer</p></li>
<li><p>Message, le cluster qui doit être rapporté, et l adresse IEEE de la Zigate.</p></li>
</ul>
<p>image:Capture_d_ecran_2018_02_21_a_23_26_49.png</p>
<p>Attention la capture d’écran n’est pas à jour pour le deuxième champs.</p>
<p>Dans message mettre::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">targetExtendedAddress</span><span class="o">=</span><span class="n">XXXXXXXXXXXXXXXX</span><span class="o">&amp;</span><span class="n">targetEndpoint</span><span class="o">=</span><span class="n">YY</span><span class="o">&amp;</span><span class="n">ClusterId</span><span class="o">=</span><span class="n">ZZZZ</span><span class="o">&amp;</span><span class="n">reportToAddress</span><span class="o">=</span><span class="n">AAAAAAAAAAAAAAAA</span>
</pre></div>
</div>
<p>Exemple avec tous les paramètres::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">targetExtendedAddress</span><span class="o">=</span><span class="mi">90</span><span class="n">fd9ffffe69131d</span><span class="o">&amp;</span><span class="n">targetEndpoint</span><span class="o">=</span><span class="mi">01</span><span class="o">&amp;</span><span class="n">ClusterId</span><span class="o">=</span><span class="mi">0006</span><span class="o">&amp;</span><span class="n">reportToAddress</span><span class="o">=</span><span class="mi">00158</span><span class="n">d00019a1b22</span>
</pre></div>
</div>
<p>Après clic sur Bind, vous devriez voir passer dans le log AbeilleParser (en mode debug) un message comme:</p>
<img alt="_images/Capture_d_ecran_2018_02_21_a_23_27_29.png" src="_images/Capture_d_ecran_2018_02_21_a_23_27_29.png" />
<p>qui confirme la prise en compte par l’ampoule. Status 00 si Ok.</p>
<p><strong>Rapport Manuel</strong></p>
<p>Ensuite paramétrer l’envoie de rapport:</p>
<ul class="simple">
<li><p>Titre, l’adresse courte de l’ampoule</p></li>
<li><p>Message, le cluster et le paramètre dans le cluster</p></li>
</ul>
<img alt="_images/Capture_d_ecran_2018_02_21_a_23_29_11.png" src="_images/Capture_d_ecran_2018_02_21_a_23_29_11.png" />
<p>Attention a capture d’écran n’est pas à jour pour le deuxième champs.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">targetEndpoint</span><span class="o">=</span><span class="mi">01</span><span class="o">&amp;</span><span class="n">ClusterId</span><span class="o">=</span><span class="mi">0006</span><span class="o">&amp;</span><span class="n">AttributeType</span><span class="o">=</span><span class="mi">10</span><span class="o">&amp;</span><span class="n">AttributeId</span><span class="o">=</span><span class="mi">0000</span> <span class="n">pour</span> <span class="n">retour</span> <span class="n">d</span><span class="s1">&#39;état ampoule Ikea</span>
<span class="n">targetEndpoint</span><span class="o">=</span><span class="mi">01</span><span class="o">&amp;</span><span class="n">ClusterId</span><span class="o">=</span><span class="mi">0008</span><span class="o">&amp;</span><span class="n">AttributeType</span><span class="o">=</span><span class="mi">20</span><span class="o">&amp;</span><span class="n">AttributeId</span><span class="o">=</span><span class="mi">0000</span> <span class="n">pour</span> <span class="n">retour</span> <span class="n">de</span> <span class="n">niveau</span> <span class="n">ampoule</span> <span class="n">Ikea</span>
</pre></div>
</div>
<p>De même vous devriez voir passer dans le log AbeilleParse (en mode debug) un message comme:</p>
<p>qui confirme la prise en compte par l’ampoule. Status 00 si Ok.</p>
<p>Après sur un changement d’état l’ampoule doit remonter l’info vers Abeille, avec des messages comme:</p>
<img alt="_images/Capture_d_ecran_2018_02_21_a_23_31_11.png" src="_images/Capture_d_ecran_2018_02_21_a_23_31_11.png" />
<p>pour un retour Off de l’ampoule.</p>
<p><strong>HomeBridge</strong></p>
<img alt="_images/Capture_d_ecran_2019_04_14_a_00_44_29.png" src="_images/Capture_d_ecran_2019_04_14_a_00_44_29.png" />
</div>
<div class="section" id="telecommande-ronde-5-boutons">
<span id="telecommanderonde5boutons"></span><h3>Télécommande Ronde 5 boutons<a class="headerlink" href="#telecommande-ronde-5-boutons" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il s’agit la de la télécommande réelle. Le chapitre suivant décrit la télécommande virtuelle equivalente proposée par Abeille.</p>
<p><strong>Video</strong></p>
<p><a class="reference external" href="https://youtu.be/eDTDXg1dBzY">Inclusion Telecommande 5 Boutons Ronde Ikea et ampoule Ikea.</a></p>
<p><strong>Introduction</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Les télécommandes envoient des commandes directement aux équipements mais pas à la zigate. De ce fait Abeille/Jeedom ne recoive pas d’info sur l’utilisation des télécommandes.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>C’est aux équipements qui reçoivent les demandes de la télécommande réelle de renvoyer leur état vers Jeedom.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A partir du firmware 3.0f on peut récupérer des appuis sur les boutons de la télécommande avec une configuration spécifique de groupe au niveau de la ZiGate, ce qui permet de déclancher des scénarii par exemple.</p>
</div>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Prendre la telecommande Ikea et faire 4 appuis sur le bouton OO au dos de la télécommande. La télécommande doit se mettre à flasher rouge en face avant. La télécommande doit apparaitre dans Jeedom.</p></li>
</ul>
<p>Si cela ne fonctionne pas, il est possible d’interroger le nom pour créer l’objet (Originale solution).</p>
<p>Originale solution:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cette solution est la toute premiere version dans Abeille et est dans la documentation pour garder une trace mais ce n’est pas la méthode recommandée.</p>
</div>
<p>Il faut connaitre l’adresse de la télécommande.</p>
<p>Puis dans la ruche demander son nom. Par exemple pour la télécommande à l’adresse ec15</p>
<img alt="_images/Capture_d_ecran_2018_02_28_a_13_59_31.png" src="_images/Capture_d_ecran_2018_02_28_a_13_59_31.png" />
<p>et immédiatement après appuyez sur un des boutons de la télécommande pour la réveiller (pas sur le bouton arrière).</p>
<p>Et après un rafraichissement de l’écran vous devez avoir un objet</p>
<img alt="_images/Capture_d_ecran_2018_02_28_a_14_00_58.png" src="_images/Capture_d_ecran_2018_02_28_a_14_00_58.png" />
<p>Il faut ensuite éditer les commandes en remplaçant l’adresse de la télécommande par le groupe que l’on veut contrôler</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Il n’est plus nécessaire de faire la modification dans les commandes mais mettre l’Id du groupe dans les parametres.</p>
</div>
<p>La configuration</p>
<img alt="_images/Capture_d_ecran_2018_02_28_a_14_03_26.png" src="_images/Capture_d_ecran_2018_02_28_a_14_03_26.png" />
<p>va devenir</p>
<img alt="_images/Capture_d_ecran_2018_02_28_a_14_03_47.png" src="_images/Capture_d_ecran_2018_02_28_a_14_03_47.png" />
<p>pour le groupe 5FBD.</p>
<p><strong>Leave</strong></p>
<ul class="simple">
<li><p>4x sur bouton arrière</p></li>
</ul>
<p><strong>Groupes</strong></p>
<p>Récupérer le groupe utilisé par une télécommande</p>
<p>Avoir une télécommande et une ampoule Ikea sur le même réseau Zigbee. Attention l’ampoule va perdre sa configuration. Approcher à 2 cm la télécommande de l’ampoule et appuyez pendant 10s sur le bouton à l’arrière de la télécommande avec le symbole “OO”. L’ampoule doit clignoter,  relâcher le bouton. Voilà la télécommande à affecté son groupe à l’ampoule Il suffit maintenant de faire un getGroupMemberShip depuis la ruche sur l’ampoule pour récupérer le groupe. Merci a &#64;rkhadro pour sa trouvaille.</p>
<p>Il existe un bouton « link » à côté de la pile bouton de la télécommande. 4 clicks pour appairer la télécommande à la Zigate. Un appuie long près de l’ampoule pour le touchlink.</p>
<p><strong>Programmer</strong></p>
<p>Il est aussi possible de définir le groupe d’une télécommande depuis Abeille (Ikea Telecommande ronde 5 boutons et telecommande Ikea 2 bouton On/Off).</p>
<p>Pour ce faire, il faut utiliser la commande « Set Group Remote » et réveiller la télécommande. En gros la tetecommande étant sur pile, elle dort pour ne pas consommer de courant et ne peut pas entendre les demandes d’Abeille/ZiGate.
Il faut donc la reveiller, pour cela un appui sur un de ses 5 boutons la reveille pendant quelques secondes. En fait, elle envoie l info d un bouton appuyé puis ecoute pendant quelques secondes et c est la qu on peut lui demander de prendre une configuration de groupe.
Donc definir le group dans le champ Id, appui sur un bouton de la telecommande et « Set Group Remote ».</p>
<img alt="_images/Capture_d_ecran_2019_07_02_a_15_12_26.png" src="_images/Capture_d_ecran_2019_07_02_a_15_12_26.png" />
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>« Set Group Remote » ne devrait fonctionner que pour les telecommande Ikea.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Comme il faut etre synchrone, il peut etre necessaire de ci prendre à plusieurs fois pour que cela fonctionne.</p>
</div>
</div>
<div class="section" id="telecommande-virtuelle">
<h3>Télécommande Virtuelle<a class="headerlink" href="#telecommande-virtuelle" title="Lien permanent vers ce titre">¶</a></h3>
<p>La télécommande virtuelle est un objet Jeedom qui envoies les commandes Zigbee comme si c’était une vrai télécommande IKEA.</p>
<p>Vidéo: <a class="reference external" href="https://youtu.be/_ScmWoSXVr8">Configuration Telecommande Ikea Réelle et simulée dans Jeedom.</a></p>
<p>Pour créer un télécommande, utilisez les commandes cachées dans la ruche:</p>
<ul class="simple">
<li><p>Ouvrir la page commande de la ruche et trouver la commande « TRADFRI remote control ».</p></li>
</ul>
<img alt="_images/Capture_d_ecran_2018_03_02_a_10_34_40.png" src="_images/Capture_d_ecran_2018_03_02_a_10_34_40.png" />
<p>Remplacez « /TRADFRI remote control/ » l’adresse du groupe que vous voulez contrôler. Par exemple AAAA.</p>
<img alt="_images/Capture_d_ecran_2018_03_02_a_10_35_08.png" src="_images/Capture_d_ecran_2018_03_02_a_10_35_08.png" />
<p>Sauvegardez et faites « Tester ».</p>
<p>Vous avez maintenant une télécommande pour contrôler le groupe AAAA.</p>
<img alt="_images/Capture_d_ecran_2018_03_02_a_10_35_28.png" src="_images/Capture_d_ecran_2018_03_02_a_10_35_28.png" />
<p>Ouvrez l’équipement « Abeille-AAAA » et ouvrez le tab « Parameter ».</p>
<img alt="_images/Capture_d_ecran_2019_07_05_a_11_42_05.png" src="_images/Capture_d_ecran_2019_07_05_a_11_42_05.png" />
<p>et définissez le groupe à controller dans le champ Groupe.</p>
<p id="telecommande-ikea-recuperation"><strong>Récupération</strong></p>
<p>Récupération des appuis Télécommande Ikea dans Abeille</p>
<p>Après avoir récupéré le groupe utilisé par la télécommande, vous pouvez ajouter la Zigate à ce groupe ainsi Abeille recevra les demandes de la télécommande. Attention la Zigate est limitée à 5 groupes soit disons 5 télécommandes.</p>
<p>Pour ce faire dans Abeille, ajouter les groupes à l’objet « Ruche » qui représente la Zigate.</p>
<p>Vous pouvez aussi forcer le groupe utilisé par la télécommande en sélectionnant la télécommande ikea, en mettant le groupe dans le champ Id puis clic sur le bouton « Set Group Remote » et dans la seconde qui suis en appuyant sur un bouton de la télécommande pour la réveiller. Il peut être nécessaire de le faire plusieurs fois du fait du timing un peu spécifique.</p>
<p>C’est aussi valide pour le bouton On/Off Ikea.</p>
<p><a class="reference external" href="https://github.com/fairecasoimeme/Zigate/issues/6">https://github.com/fairecasoimeme/Zigate/issues/6</a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 14%" />
<col style="width: 12%" />
<col style="width: 17%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Button</p></th>
<th class="head"><p>Pres-stype</p></th>
<th class="head"><p>Response</p></th>
<th class="head"><p>command</p></th>
<th class="head"><p>attr</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>down</p></td>
<td><p>click</p></td>
<td><p>0x8085</p></td>
<td><p>0x02</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>down</p></td>
<td><p>hold</p></td>
<td><p>0x8085</p></td>
<td><p>0x01</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>down</p></td>
<td><p>release</p></td>
<td><p>0x8085</p></td>
<td><p>0x03</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>up</p></td>
<td><p>click</p></td>
<td><p>0x8085</p></td>
<td><p>0x06</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>up</p></td>
<td><p>hold</p></td>
<td><p>0x8085</p></td>
<td><p>0x05</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>up</p></td>
<td><p>release</p></td>
<td><p>0x8085</p></td>
<td><p>0x07</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>middle</p></td>
<td><p>click</p></td>
<td><p>0x8095</p></td>
<td><p>0x02</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-odd"><td><p>left</p></td>
<td><p>click</p></td>
<td><p>0x80A7</p></td>
<td><p>0x07</p></td>
<td><p>direction: 1</p></td>
</tr>
<tr class="row-even"><td><p>left</p></td>
<td><p>hold</p></td>
<td><p>0x80A7</p></td>
<td><p>0x08</p></td>
<td><p>direction: 1    =&gt; can t get that one</p></td>
</tr>
<tr class="row-odd"><td><p>right</p></td>
<td><p>click</p></td>
<td><p>0x80A7</p></td>
<td><p>0x07</p></td>
<td><p>direction: 0</p></td>
</tr>
<tr class="row-even"><td><p>right</p></td>
<td><p>hold</p></td>
<td><p>0x80A7</p></td>
<td><p>0x08</p></td>
<td><p>direction: 0    =&gt; can t get that one</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>left/right <a href="#id2"><span class="problematic" id="id3">|</span></a>release</p></td>
<td><p>0x80A7</p></td>
<td><p>0x09</p></td>
<td><p>None            =&gt; can t get that one</p></td>
</tr>
</tbody>
</table>
<p>down = brightness down, up = brightness up,</p>
<p>middle = Power button,</p>
<p>left and right = when brightness up is up left is left and right is right.</p>
<p>Holding down power button for ~10 sec will result multiple commands sent, but it wont send any hold command only release.</p>
<p>Remote won’t tell which button was released left or right, but it will be same button that was last hold.</p>
<p>Remote is unable to send other button commands at least when left or right is hold down.</p>
<p>Reponse 0x8085 correspond à l’info Up-Down dans le widget.</p>
<p>Reponse 0x8095 correspond à l’info Click-Middle dans le widget.</p>
<p>Reponse 0x80A7 correspond à l’info Left-Right-Cmd et Left-Right-Direction dans le widget.</p>
<p>A partir de la vous pouvez déclencher des scénarii dans Jeedom.</p>
<p>Attention lors de l’utilisation de la télécommande, dans Abeille elle sera mis a jour et vos scénarii déclenchés mais si vous avez des équipements Zigbee sur ce groupe ils seront aussi activés.
Par exemple vous pouvez avoir une Ampoule Ikea sur le groupe de la télécommande qui réagira aux demandes de la télécommande directement en Zigbee (même si Jeedom est HS) et avoir un scénario qui se déclenche en même temps pour ouvrir les volets en zwave ou autre.</p>
<p>Le capteur IR Exterieur Ikea envoie Click-Middle lors de la detection d’une présence.</p>
</div>
<div class="section" id="gradateur">
<h3>Gradateur<a class="headerlink" href="#gradateur" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Un clic sur OO</strong></p>
<p>Un clic sur OO envoie un Beacon Request. Même si la zigate est en inclusion, il n’y a pas d’association (Probablement le cas si déjà associé à un autre réseau).</p>
<p><strong>4 clics sur OO</strong></p>
<p>Message Leave, puis Beacon Requets puis association si réseau en mode inclusion. Une fois associé, un getName avec un réveil du gradateur permet de récupérer le nom.</p>
<p>Voir la télécommande 5 boutons pour avoir plus de détails sur le contrôle de groupe,…</p>
</div>
<div class="section" id="prise">
<h3>Prise<a class="headerlink" href="#prise" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Faire un reset de la prise en insérant un petit trombone dans le trou pres de la led de la prise. Attendre 5s, la prise doit apparaitre dans Jeedom.</p></li>
</ul>
</div>
<div class="section" id="telecommande">
<h3>Télécommande<a class="headerlink" href="#telecommande" title="Lien permanent vers ce titre">¶</a></h3>
<p id="telecommanderonde5boutonssimulation"><strong>Simuler la télécommande</strong></p>
<p>Pour créer une Telecommande simulée, clic sur l icone Télécommande:</p>
<img alt="_images/Capture_d_ecran_2019_07_06_a_09_54_26.png" src="_images/Capture_d_ecran_2019_07_06_a_09_54_26.png" />
<p>apres rafraichissement de l’écran vous aurez une telecommande:</p>
<img alt="_images/Capture_d_ecran_2019_07_06_a_09_55_32.png" src="_images/Capture_d_ecran_2019_07_06_a_09_55_32.png" />
<p>Il suffit maintenant de mettre l’Id du groupe dans ses parametres.</p>
<p><strong>Récupérer un groupe</strong></p>
<p>Cette opération est un peu délicate mais doit permettre de récupérer l’adresse de groupe utilisée par la télécommande suite aux opérations ci dessus. Dans le futur ce devrait être automatique.</p>
<p>Aller dans la page de configuration du plugin et clic sur « Network » pour faire apparaitre les paramètres dans l’Ampoule:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_30_24.png" src="_images/Capture_d_ecran_2018_10_30_a_11_30_24.png" />
<p>Sur l’objet Ampoule vous devez vous le champ « Groups » apparaitre sans information:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_36_43.png" src="_images/Capture_d_ecran_2018_10_30_a_11_36_43.png" />
<p>Recuperons l’adresse de l ampoule, en ouvrant la page de configuration de l ampoule:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_42_09.png" src="_images/Capture_d_ecran_2018_10_30_a_11_42_09.png" />
<p>Le champ « Topic Abeille » contient l’adresse, ici « 9252 ».</p>
<p>Interrogeons maintenant l’ampoule, avec un getGroupMemberShip depuis l objet Ruche:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_45_23.png" src="_images/Capture_d_ecran_2018_10_30_a_11_45_23.png" />
<p>Indiquez l’adresse de l ampoule.</p>
<p>Maintenant le champ « Groups » de l’ampoule doit contenir l’adresse de groupe:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_47_24.png" src="_images/Capture_d_ecran_2018_10_30_a_11_47_24.png" />
<p>ici le groupe utilisé par la télécommande est « f65d ».</p>
<p>Maintenant nous pouvons mettre à jour la télécommande dans Jeedom. Ouvrez les commandes de la télécommande:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_50_17.png" src="_images/Capture_d_ecran_2018_10_30_a_11_50_17.png" />
<p>Dans le champ « Topic » des commandes vous pouvez voir le texte =addrGroup= qu’il faut remplacer par la valeur du groupe, ici « f65d » et sauvegarder.</p>
<p>Cela donne:</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_54_51.png" src="_images/Capture_d_ecran_2018_10_30_a_11_54_51.png" />
<p>Maintenant vous pouvez commander votre ampoule depuis la Télécommande physique et depuis la Télécommande Jeedom.</p>
<img alt="_images/Capture_d_ecran_2018_10_30_a_11_58_42.png" src="_images/Capture_d_ecran_2018_10_30_a_11_58_42.png" />
<p>PS: Les scénarios ne sont pas implémentés pour l’instant (30/10/2018):</p>
<ul class="simple">
<li><p>Sc1, Sc2, SC3 sur la télécommande dans Jeedom,</p></li>
<li><p>et les boutons « Fleche Gauche », « Fleche Droite » de la télécommande physique.</p></li>
</ul>
<p>Transfo</p>
<p>Inclusion</p>
<p>appui bouton reset 3s avec zigate en mode inclusion.</p>
</div>
<div class="section" id="store">
<h3>Store<a class="headerlink" href="#store" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion en appuyant 8s sur les deux boutons en face avant du store et zigate en mode inclusion.</p>
<p>Un device doit se créer dans Abeille et vous pouvez commander le store.</p>
<p>Si vous voulez controler le store avec la telecommande store, lui ajouter un groupe. Par defaut la télécommande utilise le groupe 0000.</p>
</div>
<div class="section" id="telecommande-store">
<h3>Telecommande Store<a class="headerlink" href="#telecommande-store" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion en 4x fois appui sur bouton arriere avec zigate en mode inclusion.</p>
<p>Par defaut la telecommande adresse les messages au groupe 0000. Positionner l’adresse du groupe que vous souhaitez avec la command « Set Group Remote » afin que la telecommande physique utilise ce groupe. Et renseigner dans les parametres de la telecommande dans jeedom la valeur du groupe pour que la telecommande virtuelle utilise le meme groupe.</p>
<p>Attention cette telecommande n’est pas identique à la télécommande I/O, elles n’envoient pas les même commandes. Celle ci envoie des commandes pour des stores (Up/Down) alors que celle I/O envoie des commandes de type On/Off. Donc une I/O ne peut pas commander un store et une telecommande store ne peut pas commander une prise ou une ampoule.</p>
<p>L’objet Telecommande créé dans Abeille permet d’avoir les trois commandes Up/Stop/Down. Par défaut, la télécommande dans Abeille enverra les commandes à tous les stores en même temps. La fonction de groupe ne fonctionne pas. Renseigné tout de même le parametre Groupe dans le tab Param mettre une valeur commme 0000. Peut être qu’un jour cette valeur sera utilisable.</p>
<p>Bouton des store IKEA Open/close E1766 TRADFRI et son store associé</p>
<p>Merci a seraf pour son petit texte:</p>
<p>Globalement, ce que j’ai fait:</p>
<p>J’ai inclus le repeteur (j’en vois toujours pas l’utilité …) en restant appuyé 5 secondes sur le bouton reset
J’ai inclus la télécommande en appuyant 4 fois sur le bouton d’association
J’ai inclus mes stores en appuyant 5 secondes sur 2 boutons
Une fois cela fait, j’ai assigné un groupe aux appareils. C’est expliqué dans la documentation, mais c’est vrai que c’est pas « user friendly ».
Il faut selectionner les stores que l’on va utiliser avec la télécommande via la checkbox au dessus des équipements.
Dans la section en dessous des équipements (celle ci s’appelle groupes), il faut mettre un numero de groupe à 4 chiffres. Par exemple on peut mettre 0000, mais aussi 0001 etc.
Donc j’ai « ajouté » le groupe 0000 à mes 2 stores. (Add Group).</p>
<p>Pour la télécommande, même procédure, je lui ai mis 0000 par contre il faut cliquer sur « Set Group Remote ». Une fois cela fait, la télécommande peut controler les stores ;-)</p>
</div>
<div class="section" id="routeur-repeteur">
<h3>Routeur (Repeteur)<a class="headerlink" href="#routeur-repeteur" title="Lien permanent vers ce titre">¶</a></h3>
<p>Mettre la zigate en mode inclusion et un clic sur le bouton reset du routeur et il doit rejoindre le réseau.</p>
<p>Note: ce n’est pas un répéteur comme on peut le lire partout mais c’est un routeur.</p>
</div>
<div class="section" id="ir-detecteur-de-presence-e1525-e1575">
<h3>IR - Detecteur de presence (E1525/E1575)<a class="headerlink" href="#ir-detecteur-de-presence-e1525-e1575" title="Lien permanent vers ce titre">¶</a></h3>
<blockquote>
<div><p>En fait le E1575 se comporte comme le E1525 (avec de subtilités).</p>
</div></blockquote>
<p>Il faut voir qu’une fois qu’il a envoyé une demande d’allumage il ne renverra pas de nouvelle demande avant 95s. C’est important pour la suite. Par defaut il utilise le groupe 0000.
Pour définir le groupe avec lequel il va discuté, il faut faire un set Group Remote avec le bon timing.
Pas évident car aucune indication n’est visible (Perso je peux le voir avec le sniffer). La manip a faire est la suivante.</p>
<p>mettre le detecteur en mode jour et nuit
Cacher le detecteur pendant au moins 95s
selectionner le detecteur dans la conf abeille
saisir le groupe, par exemple AAAA
faire Set Group Remote
et immediatement de-caché le capteur pour qu il vous detecte et se reveille pour envoyer sa commande
Voila le capteur doit etre programmé, sinon refaire la manip.
Ajouter le groupe a une ampoule ici AAAA
attendre 95s
declencher le capteur en bougeant devant lui et l ampoule doit s allumer.</p>
</div>
</div>
<div class="section" id="innr">
<h2>Innr<a class="headerlink" href="#innr" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="id4">
<h3>Telecommande<a class="headerlink" href="#id4" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Exclusion</strong></p>
<ul class="simple">
<li><p>Assurez vous que les zigates ne sont pas en mode inclusion.</p></li>
<li><p>long appui sur Gros Bouton et Program pendant disons 10s ou plus. Va générer un Leave et reset des parametres.</p></li>
</ul>
<p><strong>Inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la zigate en mode Inclusion</p></li>
<li><p>Appui sur le - et program pendant 10s ou plus. La telecommande va rejoindre le reseau et Abeille va la configurer.</p></li>
</ul>
<p><strong>Configuration standard</strong></p>
<ul class="simple">
<li><p>Mode Scene</p></li>
</ul>
<p>Bouton - Gros + pilote tous les equipments
Bouton 1 à 6 envoie le niveau declarage à tous les equipements sur le reseau</p>
<ul class="simple">
<li><p>Mode Light</p></li>
</ul>
<p>Bouton - Gros + pilote tous les equipments
Bouton 1 à 6 ne font rien</p>
<p><strong>Configuration Standard Abeille</strong></p>
<ul class="simple">
<li><p>Mode Scene</p></li>
</ul>
<p>Bouton - Gros + pilote tous les equipments du groupe 1001
Bouton 1 à 6 envoie le niveau declarage à tous les equipements du groupe 1001</p>
<ul class="simple">
<li><p>Mode Light</p></li>
</ul>
<p>Bouton - Gros + pilote tous les equipments du groupe 1001
Bouton 1 à 6 pilote les groupe 3003, 4004 à 8008</p>
<p><strong>Reconfigurer les groupes</strong></p>
<ul class="simple">
<li><p>Exclure la telecommande du reseau zigbee</p></li>
<li><p>Surtout ne pas effacer l objet dans Abeille</p></li>
<li><p>Definir les groupes dans les parametres dans Abeille</p></li>
<li><p>Inclure la telecommande</p></li>
<li><p>Appliquer la configuration en activant la telecommande (en cours de dev #1794 (<a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1794">https://github.com/KiwiHC16/Abeille/issues/1794</a>).</p></li>
</ul>
</div>
</div>
<div class="section" id="konke">
<h2>Konke<a class="headerlink" href="#konke" title="Lien permanent vers ce titre">¶</a></h2>
<p><a class="reference external" href="https://faire-ca-soi-meme.fr/domotique/2019/07/16/test-du-kit-zigbee-konke-smart-home/">https://faire-ca-soi-meme.fr/domotique/2019/07/16/test-du-kit-zigbee-konke-smart-home/</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Les équipements ne fonctionnent que sur les canaux 15 et 20.</p>
</div>
<div class="section" id="temperature-humidite">
<h3>Temperature / Humidité<a class="headerlink" href="#temperature-humidite" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion</p>
<blockquote>
<div><ul class="simple">
<li><p>Mettre la zigate en Inclusion</p></li>
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone</p></li>
<li><p>L’equipement doit apparaitre dans Abeille/Jeedom</p></li>
</ul>
</div></blockquote>
<p>Exclusion</p>
<ul class="simple">
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone (zigate pas en inclusion sinon il se re-appaire immédiatement).</p></li>
</ul>
<p>Données</p>
<p>Le capteur remonte la temperature, le taux d’humidité et la tension batterie.</p>
</div>
<div class="section" id="door">
<h3>Door<a class="headerlink" href="#door" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion</p>
<blockquote>
<div><ul class="simple">
<li><p>Mettre la zigate en Inclusion</p></li>
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone</p></li>
<li><p>L’equipement doit apparaitre dans Abeille/Jeedom</p></li>
</ul>
</div></blockquote>
<p>Exclusion</p>
<ul class="simple">
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone (zigate pas en inclusion sinon il se re-appaire immédiatement).</p></li>
</ul>
<p>Données</p>
<p>Le capteur remonte l’etat d’ouverture de la porte et la tension batterie.</p>
</div>
<div class="section" id="bouton">
<h3>Bouton<a class="headerlink" href="#bouton" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion</p>
<blockquote>
<div><ul class="simple">
<li><p>Mettre la zigate en Inclusion</p></li>
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone</p></li>
<li><p>L’equipement doit apparaitre dans Abeille/Jeedom</p></li>
</ul>
</div></blockquote>
<p>Exclusion</p>
<ul class="simple">
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone (zigate pas en inclusion sinon il se re-appaire immédiatement).</p></li>
</ul>
<p>Données</p>
<ul class="simple">
<li><p>Le bouton remonte 128 sur un clic court</p></li>
<li><p>Le bouton remonte 129 sur un multi clic</p></li>
<li><p>Le bouton remonte 130 sur un clic long</p></li>
<li><p>Le capteur remonte l’etat d’ouverture de la porte et la tension batterie.</p></li>
</ul>
</div>
<div class="section" id="infra-rouge">
<h3>Infra-Rouge<a class="headerlink" href="#infra-rouge" title="Lien permanent vers ce titre">¶</a></h3>
<p>Inclusion</p>
<blockquote>
<div><ul class="simple">
<li><p>Mettre la zigate en Inclusion</p></li>
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone</p></li>
<li><p>L’equipement doit apparaitre dans Abeille/Jeedom</p></li>
</ul>
</div></blockquote>
<p>Exclusion</p>
<ul class="simple">
<li><p>Appui &gt;8s sur le bouton lateral avec un trombone (zigate pas en inclusion sinon il se re-appaire immédiatement).</p></li>
</ul>
<p>Données</p>
<blockquote>
<div><ul class="simple">
<li><p>cd: si alarme</p></li>
<li><p>1: si pas alarme</p></li>
</ul>
<img alt="_images/Capture_d_ecran_2019_08_01_a_16_32_55.png" src="_images/Capture_d_ecran_2019_08_01_a_16_32_55.png" />
<img alt="_images/Capture_d_ecran_2019_08_01_a_16_32-39.png" src="_images/Capture_d_ecran_2019_08_01_a_16_32-39.png" />
<ul class="simple">
<li><p>Volt Batterie, ne semble pas remonter à vérifier.</p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="legrand">
<h2>Legrand<a class="headerlink" href="#legrand" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="contacteur-20ax">
<h3>Contacteur 20AX<a class="headerlink" href="#contacteur-20ax" title="Lien permanent vers ce titre">¶</a></h3>
<p>Mode: 00: Off, 02: Auto, 03: On</p>
</div>
<div class="section" id="prise-220v">
<h3>Prise 220V<a class="headerlink" href="#prise-220v" title="Lien permanent vers ce titre">¶</a></h3>
<img alt="_images/Capture_d_ecran_2019_07_06_a_09_17_19.png" src="_images/Capture_d_ecran_2019_07_06_a_09_17_19.png" />
<p><strong>Fonctions</strong></p>
<dl class="simple">
<dt>Fonctionne:</dt><dd><ul class="simple">
<li><p>Inclusion automatique dans Abeille.</p></li>
</ul>
</dd>
<dt>Commandes:</dt><dd><ul class="simple">
<li><p>On</p></li>
<li><p>Off</p></li>
<li><p>Toggle</p></li>
<li><p>Lecture etat On/Off</p></li>
<li><p>Retour état automatique On/Off (Bind On/Off, Report On/Off)</p></li>
<li><p>Groupe</p></li>
<li><p>Scene (Devrait être ok d apres retour utilisateur)</p></li>
<li><p>Puissance (Bind, Report)</p></li>
<li><p>Routeur (elle diffuse les Link Status)</p></li>
</ul>
</dd>
<dt>Pas supporté:</dt><dd><ul class="simple">
<li><p>Level (C’est normal la prise contient un relai)</p></li>
</ul>
</dd>
<dt>En cours d investigation:</dt><dd><ul class="simple">
<li><p>Peut on avoir la conso ?</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Dixit Akila: NB: J’ai remarqué que sur certaines prises, la mesure de la consommation d’énergie n’existe pas. En effet, il faudra la centrale (à l’aide de l’OTA) pour que la prise se mette à jour et libère la fonctionnalité. Du coup, c’est le gros inconvénient, si vous n’avez que la ZiGate. Vous risquerez en achetant les produits Legrand Celiane Netatmo de ne pas avoir toutes les fonctionnalités …</p>
</div>
<p><strong>Premiere mise sous tension</strong></p>
<p>(En cours d’écriture, Pas encore très clair)</p>
<p>Premiere mise sous tension avec la zigate en inclusion. La prise allume la Led en rouge et on entend claquer le relai mais pas de message radio zigbee.
Un appui long de 8s sur le reset derriere l anneau fait flasher une fois la led puis quand je relance le reset la led cligonte 1 fois et le relai claque mais rien ni en ch11, ni en ch15.</p>
<p><strong>inclusion</strong></p>
<p>(En cours d’écriture, Pas encore très clair)</p>
<p>Le bouton « reset » se trouve en façade en enlevant tous les caches et le bouton.
Ensuite, il faut mettre la ZiGate en mode inclusion puis effectuer un appuie long 5-10 sec sur le reset … attendre 10 sec … puis faire un simple clic sur le reset.
Si deja associé, faire un reset bouton proche roue crantée sur le Bouton au fond du trou. Avec un trombone appuyer environ 8 secondes. Une led s’allume vert, puis flash bleu, puis flash rouge, 1s apres faire un appui rapide sur le reset (Si ce n’est pas fait le module s’appaire puis passe en Beacon request Loop, très surprenant) et la le module fait un appairage. Et doit apparaitre dans Abeille. (Tests fait sur Channel 11, je ne sais pas si il y a des limitations sur ce point.)</p>
<p>Aussi une bonne description ici: <a class="reference external" href="https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/Legrand-corner.md#pairing-process">https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/Legrand-corner.md#pairing-process</a></p>
</div>
<div class="section" id="module-encastre">
<h3>Module Encastré<a class="headerlink" href="#module-encastre" title="Lien permanent vers ce titre">¶</a></h3>
<img alt="_images/Capture_d_ecran_2019_07_06_a_13_29_06.png" src="_images/Capture_d_ecran_2019_07_06_a_13_29_06.png" />
<p><strong>Spécifications</strong></p>
<p>Module On/Off
1.3A max
100-240V
50Hz/60Hz
0.4A max
Bouton On/Off
Ref: 0 648 88
300W max
Interrupteur poussoir distant
Controle Charge Resistive
(Necessite un neutre)</p>
<p><strong>Inclusion</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>A la sortie de la boite, sur alimentation électrique le module envoie des Beacons et la Led Rouge est allumée.</p></li>
<li><p>Si je mets la ZiGate en inclusion et branche le module, il s’appaire au réseau zigbee, LED rouge s’éteind.</p></li>
<li><p>Si deja associé, faire un reset bouton proche roue crantée sur le Bouton au fond du trou. Avec un trombone appuyer environ 8 secondes. Une led s’allume vert, puis flash bleu, puis flash rouge, 1s apres faire un appui rapide sur le reset (Si ce n’est pas fait le module s’appaire puis passe en Beacon request Loop, très surprenant) et la le module fait un appairage. Et doit apparaitre dans Abeille. (Tests fait sur Channel 11, je ne sais pas si il y a des limitations sur ce point.)</p></li>
<li><p>Aussi une bonne description ici: <a class="reference external" href="https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/Legrand-corner.md#pairing-process">https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/Legrand-corner.md#pairing-process</a></p></li>
</ul>
</div></blockquote>
<p><strong>Fonctions</strong></p>
<dl>
<dt>Fonctionne:</dt><dd><ul class="simple">
<li><p>On</p></li>
<li><p>Off</p></li>
<li><p>Toggle</p></li>
<li><p>Lecture etat On/Off</p></li>
<li><p>Retour état automatique On/Off (Bind On/Off, Report On/Off).</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>Sur appui bouton poussoir du boitier l’etat remonte. Le bouton provoque un toggle ( &lt;= Bouton Poussoir).</p></li>
<li><p>Sur changement etat commandé depuis la ZiGate, il ne rapporte pas son état ! Heureusement Abeille demande !!!</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Groupe</p></li>
<li><p>Scene (Devrait être ok d apres retour utilisateur)</p></li>
<li><p>Routeur (elle diffuse les Link Status)</p></li>
</ul>
</dd>
<dt>Pas supporté:</dt><dd><ul class="simple">
<li><p>Level (C’est normal le module contient un relai et ne contient pas le cluster level).</p></li>
<li><p>Puissance (Pas dans le module)</p></li>
<li><p>Consommation (Pas dans le module)</p></li>
</ul>
</dd>
</dl>
<p>En cours d investigation:</p>
<p><strong>Bouton Pourssoir sur le boitier</strong></p>
<p>Sur appui on entend le relai claquer. Rien sur la relache. Rien ne remonte sur le ZigBee suaf si Bind/Report fait sur etat.</p>
</div>
<div class="section" id="interrupteur-sans-neutre">
<h3>Interrupteur Sans neutre<a class="headerlink" href="#interrupteur-sans-neutre" title="Lien permanent vers ce titre">¶</a></h3>
<a class="reference internal image-reference" href="_images/Capture_d_ecran_2019_07_07_a_08_56_58.png"><img alt="_images/Capture_d_ecran_2019_07_07_a_08_56_58.png" src="_images/Capture_d_ecran_2019_07_07_a_08_56_58.png" style="width: 200px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bien mettre une charge résistive.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Charge entre 5W et 300W d’après la doc.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contrairement aux interrupteurs Xiaomi qui se comportent en End Device qui s’endorment qui donc ne routent pas et poll les commandes et sont donc lent à réagir aux commandes. Les interrupteurs Legrand sont des routeurs en éveille permanent, donc réagisse immédiatement et participe au mesh.</p>
</div>
<p><strong>Inclusion</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Zigate en mode Inclusion</p></li>
<li><p>Mise sous tension de l’interrupteur,</p></li>
<li><p>il rejoint le réseau (Dimmer switch w/o neutral),</p></li>
<li><p>il est créé dans Abeille.</p></li>
<li><p>Aussi une bonne description ici: <a class="reference external" href="https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/Legrand-corner.md#pairing-process">https://github.com/pipiche38/Domoticz-Zigate-Wiki/blob/master/en-eng/Legrand-corner.md#pairing-process</a></p></li>
</ul>
</div></blockquote>
<p><strong>Fonctions</strong></p>
<dl>
<dt>Fonctionne:</dt><dd><ul class="simple">
<li><p>On</p></li>
<li><p>Off</p></li>
<li><p>Toggle</p></li>
<li><p>Lecture etat On/Off</p></li>
<li><p>Lecture Level</p></li>
<li><p>Routeur (elle diffuse les Link Status)</p></li>
<li><p>Retour état automatique On/Off (Bind On/Off, Report On/Off).</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>Sur appui bouton On ou Off de l interrupteur l’etat remonte.</p></li>
<li><p>Sur changement etat commandé depuis la ZiGate, il ne rapporte pas son état ! Heureusement Abeille demande !!!</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Groupe</p></li>
<li><p>Scene (Devrait être ok pas testé)</p></li>
</ul>
</dd>
<dt>Pas supporté:</dt><dd><ul class="simple">
<li><p>Puissance (Pas de cluster trouvé)</p></li>
<li><p>Consommation (Pas de cluster trouvé)</p></li>
</ul>
</dd>
<dt>En cours d investigation:</dt><dd><ul class="simple">
<li><p>Cmd  Zigate Move to level with On/off ne fonctionne pas</p></li>
<li><p>Appui prolongé haut ou bas de l interrupteur ne provoque pas de variatieon ! Ou est le dimmer ?</p></li>
<li><p>D’après la doc option variateur: Activable depuis l’application.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="interrupteur-on-off-sur-pile">
<h3>Interrupteur On/Off sur pile<a class="headerlink" href="#interrupteur-on-off-sur-pile" title="Lien permanent vers ce titre">¶</a></h3>
<p>Fonctionne:
* On
* Off</p>
<p>Fonctionne pas:
* Niveau batterie</p>
<p><strong>inclusion</strong></p>
<ul class="simple">
<li><p>Cet interrupteur n’est pas facile à inclure</p></li>
<li><p>Ce qui semble fonctionner:</p></li>
</ul>
<ul class="simple">
<li><p>Réseau zigbee sur canal 11</p></li>
<li><p>Activer le « Blocage traitement Annonces » dans la config du plugin</p></li>
<li><p>Mettre la zigate en Inclusion</p></li>
<li><p>Appui d environ 20s sur le bouton “reset” (bouton caché, legerement en en bas a droite sur le PCB)</p></li>
<li><p>L inclusion doit se produire, sinon faire un clic court quelques secondes plus tard sur ce meme bouton.</p></li>
<li><p>L’équipement doit être créé dans Abeille</p></li>
<li><p>Desactiver le mode inclusion de la Zigate</p></li>
<li><p>Desactiver le « Blocage traitement Annonces » dans la config du plugin</p></li>
</ul>
<p><strong>parametrer</strong></p>
<ul class="simple">
<li><p>Pour fonctionner, le bouton doit connaitre le groupe à utiliser pour envoyer les commandes On et Off aux equipements.</p></li>
<li><p>Renseigner le groupe dans le champ Id par exemple AAAA</p></li>
<li><p>Réveiller le bouton avec un appui court sur le on (Bas) ou off (Haut)</p></li>
<li><p>Envoyer le groupe avec la commande « Set Group Remote Legrand »</p></li>
</ul>
<p><strong>Fonctionnement</strong></p>
<p>Appui court -&gt; Cluster 0x0006 On/Off
Appui Long -&gt; Cluster 0x0008 Level Move sur appui et level stop</p>
<p>Ampoule Ikea attend un Move to level with OnOff (04) / level 48 / Transition Time : 1s
mais l inter envoi move (01) / mode Down / rate 255</p>
<p>Ampoule Ikea fonctionne en On/Off.
Si Elle est On elle semble accepter les level mais va du max au min (et vis versa) et je parviens pas a régler des level intermédiaires.</p>
<p>Si la ruche est ajoutée dans le groupe alors on récupère l appui bouton sur la commande click middle et le level sur Up-Down (1 pour depart move et 3 pour stop move), le temps entre les deux messages donne le temps d appui.</p>
</div>
<div class="section" id="interrupteur-entree-sortie-sur-pile">
<h3>Interrupteur Entrée/Sortie sur pile<a class="headerlink" href="#interrupteur-entree-sortie-sur-pile" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pas supporté actuellement.</p>
</div>
</div>
<div class="section" id="livolo">
<h2>Livolo<a class="headerlink" href="#livolo" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="caracteristiques">
<h3>Caracteristiques<a class="headerlink" href="#caracteristiques" title="Lien permanent vers ce titre">¶</a></h3>
<p>Visiblement Livolo utilise uniquement le canal radio 26. Cela implique de mettre la zigate sur ce canal. Pour définir le canal allez dans la page du plugin et suivez les instructions du chapitre « Channel Mask ».</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>quand vous faites cela, la zigate va changer de canal mais si vous avez des équipements déjà sur le réseau ils ne seront pas au courant et vous allez les perdre.
Vous devrez refaire une inclusion pour les retrouver.</p>
</div>
</div>
<div class="section" id="interrupteur-1-btn-2-btn">
<h3>Interrupteur 1 btn &amp; 2 btn<a class="headerlink" href="#interrupteur-1-btn-2-btn" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Inclure</strong></p>
<p>Un appui long (&gt; 6s) sur le bouton sensitif au centre de la face avant jusqu’à émission d’un bip doit provoquer l’association (Zigate en mode inclusion).</p>
<p>l’équipement doit se connecter et un objet doit apparaître dans Jeedom.</p>
<p><strong>Retour d’état</strong></p>
<p>Pour l’instant en version 3.1a de la zigate, le retour d’état envoyé par le bouton (si vous utilisez le bouton directement par exemple) n’est pas transmis par la zigate à Abeille. Sera certainement dans les versions futures.</p>
<p>Si vous controllez le bouton depuis Abeille, alors Abeille fait la demande d’état après envoie d’une commande.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Les deux types d’interrupteurs s’annoncent sous le même nom « TI0001 ». Il n’y dans Abeille qu’un modèle car les deux types se comportent de la même facon.</p></li>
<li><p>Par defaut Abeille crée un modèle 2 boutons. Rendre non visible les commandes On et Off pour le second boutons si vous avez un modèle 1 bouton.</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Ils ne semblent pas aimer les commandes non supportées et se met en carafe et ne répond plus.</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>Ces interrupteurs peuvent avoir un comportement ou ils ne repondent plus après quelques minutes. Il y a un trick Livolo pour qu’ils restent actifs. Si cela se produit refaite une inclusion pour qu’abeille applique le trick.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="onoffcontroller">
<h2>OnOffController<a class="headerlink" href="#onoffcontroller" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce chapitre regroupe les informations sur les équipements <a class="reference internal" href="OnOffController.html"><span class="doc">OnOff Controlleur</span></a></p>
</div>
<div class="section" id="osram">
<h2>OSRAM<a class="headerlink" href="#osram" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="prise-smart">
<h3>Prise Smart +<a class="headerlink" href="#prise-smart" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les prises Inddor et Outdoor semble identique. Dans Abeille par defaut elle seront considérées indoor. Vous pouvez changer l icone si elle est OutDoor.</p>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Appui long sur le bouton du flanc de la prise, la prise switche rapidement On/Off, lâcher le bouton, l’équipement doit se connecter et un objet doit apparaître dans Jeedom.</p></li>
</ul>
<img alt="_images/plug01_new.png" src="_images/plug01_new.png" />
<p><strong>Inclue</strong></p>
<p>Déjà inclue préalablement</p>
<ul class="simple">
<li><p>un appui long (&gt; 20s) sur le bouton latéral doit provoquer l’association (Zigate en mode inclusion) l’équipement doit se connecter et un objet doit apparaître dans Jeedom.</p></li>
</ul>
<p>——————————————————- A clarifier</p>
<p><strong>Retour d’état</strong></p>
<p>Afin de configurer le retour d’état il faut avoir:
- l’adresse IEEE sur l objet prise OSRAM
- et sur l’objet ruche</p>
<p>Si ce n’est pas le cas vous pouvez faire un « liste Equipements » sur la ruche. Si cela ne suffit pas il faut faire « menu-&gt;Plugins-&gt;Protocol domotique-&gt;Abeille-&gt;Network List-&gt;Table de noeuds-&gt;Recalcul du cache » (Soyez patient).</p>
<p>Ensuite utilisez de préférence « BindShortToZigateEtat » puis « setReportEtat ». Maintenant un changement d’état doit remonter tout seul et mettre à jour l’icone.</p>
<img alt="_images/Capture_d_ecran_2018_06_27_a_11_24_09.png" src="_images/Capture_d_ecran_2018_06_27_a_11_24_09.png" />
<p>Le retour d’état ne remonte que si l’état change. Donc si l’icone n’est pas synchro avec la prise vous pouvez avoir l’impression que cela ne fonctionne pas. Ex: la prise est Off et l’icone est on. Vous faites Off et rien ne se passe. Pour éviter cela un double Toggle doit réaligner tout le monde.</p>
<p>——————————————————- A clarifier</p>
<p><strong>Remove</strong></p>
<p>..image:: images/Capture_d_ecran_2019_07_06_a_10_43_00.png</p>
<p>Un remove exclue la prise OSRAM Outdoor du reseau avec un Leave (Rejoin: False, Request: False, Remove Children: False). Lors de l exclusion on entend la prise faire un aller-retour du relai. Et l’équipement dans Abeille est conservé mais désactivé.
Vous pouvez garder l’équipement dans Abeille si vous le souhaitez ou le supprimer. Si vous le gardez, lors de la prochaine inclusion de cette même prise il sera ré-utilisé.</p>
</div>
<div class="section" id="ampoules">
<h3>Ampoules<a class="headerlink" href="#ampoules" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ampoule E27 CLA 60 RGBW OSRAM (Classic E27 Multicolor)</p>
<p><strong>Nouvelle inclusion*</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Brancher l’ampoule OSRAM. Elle devrait joindre le réseau immédiatement et un objet doit être créé dans Jeedom.</p></li>
</ul>
<p><strong>Déjà inclue</strong></p>
<ul class="simple">
<li><p>Ampoule allumée. Éteindre/Allumer 5 fois toutes les 3 s et elle doit essayer de joindre le réseau et faire un flash.</p></li>
</ul>
<p><a class="reference external" href="https://www.youtube.com/watch?v=PaA0DV5BXH0">https://www.youtube.com/watch?v=PaA0DV5BXH0</a></p>
</div>
<div class="section" id="routage">
<h3>Routage<a class="headerlink" href="#routage" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le routage avec les prise OSRAM ne semble pas compatible avec les autres produits comme xiaomi, ikea,… voir plus de détail dans le chapitre route et les aspects <a class="reference internal" href="Radio.html#radio-routes"><span class="std std-ref">OSRAM</span></a>.</p>
</div>
<div class="section" id="lightify-switch">
<h3>Lightify Switch<a class="headerlink" href="#lightify-switch" title="Lien permanent vers ce titre">¶</a></h3>
<p>Retrait de la languette pile en sortie de la boite avec zigate en mode inclusion. Rien passe sur la radio. Il a fallu plein de manip dont retirer la batterie pour avoir la led du milieu qui s allume en vert de temps a autre.</p>
<p>Reset:
Bouton en haut a gauche et en bas a droite plus de 10 secondes.</p>
<p>Appairage:
Bouton en haut a droite et bouton en bas à gauche pendant 3 secondes avec Zigate en mode inclusion.
La Led au milieu semble passer au bleu pendant cette phase.</p>
<p>Proprietés:
Cette telecommande broadcast et n’utilise pas les groupes. Toutes les ampoules dans le réseau vont utiliser les commandes !
Elle est visiblement configuratble avec la GW Osram mais je ne l’ai pas pour tester.</p>
</div>
<div class="section" id="motion-sensor">
<h3>Motion Sensor<a class="headerlink" href="#motion-sensor" title="Lien permanent vers ce titre">¶</a></h3>
<p>Reset:
Bouton gauche 10 secondes d’apres la documentation mais personne ne touve que cela fonctionne.</p>
<p>Reveil:
Appui sur le bouton lateral ou mouvement devant le capteur. Utile pour configurer le capteur depuis Abeille.</p>
<p>Appairage:
Retrait et remise de la batterie alors que la zigate en mode inclusion et l appairage se produit. Mais quitte le reseau et entre en boucle appairage / leave !!!
Pour l inclure j’ai mis la zigate en inclusion, arreté Abeille, appui 10s sur bouton, attendu 20 seconde et redemarrer Abeille puis ask name. Et la il ne quitte plus le reseau !!!!
Il est compliqué a appairé.</p>
<p>Configuration:
Il est fort probable que la configuration ne se realise pas correctement lors de l inclusion. Monsieur est recalcitrant.
Dans ce cas, rendre visible la commande IEEE-Addr est vérifier qu’elle est bien reseignée.
Rendre visible les commandes de Bind temperature, bind occupency, set report temperature, set report occupency, et les executer plusieurs fois tout en appuyant sur le bouton lateral.
Une fois fait vous pouvez rendre invisible ces commandes.</p>
<p>Additional info:
Clignote 3 fois bleu, appairage en cours / recherche de reseau.
Pile: CR2</p>
</div>
</div>
<div class="section" id="philips-hue">
<h2>Philips Hue<a class="headerlink" href="#philips-hue" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="ampoule-1">
<h3>Ampoule 1<a class="headerlink" href="#ampoule-1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Ampoule Philips Hue White</p>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><dl class="simple">
<dt>Avec une ampoule neuve Hue White</dt><dd><ul>
<li><p>Allumer l’ampoule, elle s’associe et envoie des messages « annonce » mais pas son nom.</p></li>
<li><p>Si vous faites un getName avec son adresse courte dans le champ Titre et 0B (destinationEndPoint) dans le champ Message, alors elle doit répondre avec son nom, ce qui va créer l’objet dans Jeedom.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p><strong>Déjà inclue</strong></p>
<ul class="simple">
<li><p>Zigate en fonctionnement normale</p></li>
<li><p>Éteindre l’ampoule 15s puis la rallumer</p></li>
</ul>
<p><strong>Déjà inclue 2</strong></p>
<p>préalablement sur un autre réseau Zigbee</p>
<ul class="simple">
<li><p>Zigate en fonctionnement normale</p></li>
<li><p>Avec une Télécommande Hue, Bouton « I » et « 0 », pour remettre d’usine l’ampoule.</p></li>
<li><p>Faire une inclusion standard.</p></li>
</ul>
</div>
<div class="section" id="ampoule-2">
<h3>Ampoule 2<a class="headerlink" href="#ampoule-2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Philips Hue Go</p>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Appui très long sur le bouton arrière de l’ampoule plus de 40s, un objet doit apparaître dans Jeedom.</p></li>
</ul>
<p><strong>Déjà inclue</strong></p>
<ul class="simple">
<li><p>Zigate en fonctionnement normale</p></li>
<li><p>Appui très long sur le bouton arrière de l’ampoule plus de 40s</p></li>
<li><p>La lampe se met à flasher. Elle s’est déconnectée du réseau.</p></li>
</ul>
</div>
<div class="section" id="dimmer">
<h3>Dimmer<a class="headerlink" href="#dimmer" title="Lien permanent vers ce titre">¶</a></h3>
<p>Philips Hue Dimmer Switch (Télécommande)</p>
<ul class="simple">
<li><p>Elle permet de faire une reset touchlink d’une ampoule Ikea</p></li>
<li><p>elle peut fonctionner seule avec une ampoule (TouchLink): On/Off/+/-</p></li>
<li><p>elle peut s’inclure dans le réseau zigate</p></li>
<li><p>Abeille peut la configurer pour qu’elle envoie l’information du bouton appuyé. Abeille peut utiliser cette info dans un scénario par exemple.</p></li>
<li><p>Je ne sais pas comment faire en sorte qu’elle commande une ampoule en direct</p></li>
</ul>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Appui avec un trombone 5x sur le bouton « setup » en face arrière. Un objet télécommande doit être créé dans Abeille.</p></li>
</ul>
<p><strong>Groupe</strong></p>
<p>Récupérer le groupe utilisé</p>
<ul class="simple">
<li><p>Approcher la télécommande d’une ampoule de test qui est sur le réseau.</p></li>
<li><p>Faire un appui long &gt;10s sur le I de la télécommande.</p></li>
<li><p>Attendre le clignotement de l’ampoule.</p></li>
<li><p>Si vous appuyez sur I ou O, elle doit s’allumer et s’éteindre.</p></li>
<li><p>Et les bouton lumière plus et moins doivent changer l’intensité.</p></li>
<li><p>Ensuite vous pouvez récupérer le groupe en interrogeant l’ampoule depuis la ruche avec un getGroupMembership.</p></li>
</ul>
<p><strong>Reset</strong></p>
<p>Reset d une ampoule</p>
<blockquote>
<div><ul class="simple">
<li><p>Appuyer sur I et O en même temps à moins de quelques centimètres d’une ampoule</p></li>
<li><p>L’ampoule doit faire un reset et essayer de joindre un réseau.</p></li>
<li><p>Si la Zigate est en mode inclusion alors vous récupérez votre ampoule.</p></li>
</ul>
</div></blockquote>
<p><strong>Informations</strong></p>
<p>Informations supplémentaires</p>
<p>Dans l’objet Abeille vous allez trouver:</p>
<ul class="simple">
<li><dl class="simple">
<dt>8 informations. 4 boutons x 2 infos (événement, durée)</dt><dd><ul>
<li><p>Ce sont les informations qui remontent de la télécommande quand vous l’utilisez.</p></li>
<li><p>Cela permet à Jeedom de savoir qu’un bouton a été utilisé et vous pouvez créer les scénario que vous voulez.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>4 Boutons: « I », « LumPlus », « LumMoins », « O ».</p></li>
<li><p>4 types events: « Appui Court = 0 », « Appui Long = 1 », « Relâche appui court = 3 », « Relâche Appui Long = 4 »</p></li>
<li><p>Durée, indique le temps d’appui d’un bouton (Il n’y pas de temps de nom appui).</p></li>
</ul>
<ul class="simple">
<li><p>00 appui</p></li>
<li><p>01 appui maintenu</p></li>
<li><p>02 relâche sur appui court</p></li>
<li><p>03 relâche sur appui long</p></li>
</ul>
<ul class="simple">
<li><p>5 icônes (On,Off,Toggle,Lumière plus, Lumière moins) pour simuler la télécommande depuis Jeedom.</p></li>
</ul>
<p>C’est Jeedom qui envoie les commandes à la place de la télécommande. Pour se faire renseigner le champ « Groupe » dans la configuration.</p>
</div>
<div class="section" id="id5">
<h3>Prise<a class="headerlink" href="#id5" title="Lien permanent vers ce titre">¶</a></h3>
<p>Prise de contrôle d’une ampoule</p>
<ul class="simple">
<li><dl class="simple">
<dt>Ampoule Hue White et télécommande déjà associées au réseau :</dt><dd><ul>
<li><p>Mettre la télécommande proche de l ampoule et appuyer sur « I » assez longtemps.</p></li>
<li><p>L’ampoule clignote et est configurée.</p></li>
<li><p>Après l’ampoule est pilotable par la télécommande. On peut récupérer le groupe utilisé sur l’ampoule dans Jeedom.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Ampoule Ikea et télécommande déjà associées au réseau :</dt><dd><ul>
<li><p>La configuration depuis la télécommande et le bouton “I” ne fonctionne pas comme avec l’ampoule Hue.</p></li>
<li><p>Mais si on récupère le groupe comme indiqué au paragraphe précédent et qu’on défini ce groupe dans l’ampoule Ikea, alors l’ampoule répond aux commandes de la télécommande.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="motion-sensor-indoor">
<h3>Motion Sensor Indoor<a class="headerlink" href="#motion-sensor-indoor" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Inclusion</strong></p>
<p>Mettre la zigate en inclusion, puis un appui sur le bouton « setup » et l’objet doit se créer dans Abeille.</p>
<p><strong>Présence</strong></p>
<p>En cas de détection le capteur envoie l information à la zigate qui transmet à Abeille. A vous de faire les scénairii que vous souhaitez. Ce capteur ne permet pas de piloter en direct sans la zigate un autre équipement à ma connaisssance.</p>
<p><strong>Luminosité</strong></p>
<p>Le capteur remonte régulièrement la luminosité mesurée. Cela vous permet par exemple de faire de scénario en fonction du jour et de la nuit, vérifier que des lumières sont allumées dans une pièce,…
Voir aussi <a class="reference external" href="https://en.wikipedia.org/wiki/Lux">https://en.wikipedia.org/wiki/Lux</a> pour avoir une idée de l’intensité lumineuse, une table fournie des indications interessante.</p>
</div>
<div class="section" id="temperature">
<h3>Température<a class="headerlink" href="#temperature" title="Lien permanent vers ce titre">¶</a></h3>
<p>La température remonte régulièrement.</p>
<p><strong>Batterie</strong></p>
<p>(A tester)</p>
<p><strong>Homebridge</strong></p>
<img alt="_images/Capture_d_ecran_2019_04_14_a_00_44_30.png" src="_images/Capture_d_ecran_2019_04_14_a_00_44_30.png" />
</div>
<div class="section" id="motion-sensor-outdoor">
<h3>Motion Sensor Outdoor<a class="headerlink" href="#motion-sensor-outdoor" title="Lien permanent vers ce titre">¶</a></h3>
<p>voir motion sensor indoor.</p>
</div>
</div>
<div class="section" id="profalux">
<h2>Profalux<a class="headerlink" href="#profalux" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="volet">
<h3>Volet<a class="headerlink" href="#volet" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Inclusion d’un volet</strong></p>
<p>Comme pour tous modules Zigbee et pour bien comprendre la procédure, il faut savoir que :</p>
<p>La Zigate est un coordinateur Zigbee qui permet de contrôler / créer un réseau. De la même manière que le couple télécommande / ampoule Zigbee, il est important que les deux matériels appartiennent et soient authentifiés sur le même réseau.</p>
<p>N’ayant pas de boutons ou d’interfaces, un volet Profalux Zigbee ne peux pas rentrer tout seul sur un réseau Zigbee. Il est indispensable d’avoir une télécommande maître qui jouera le rôle d’interface entre le volet et la Zigate.</p>
<p>A savoir tout au long de cette procédure : lorsque le volet fait un petit va et vient c’est le signe que la commande a bien été reçue.</p>
<p>Etape 1</p>
<p>Étape 1: Remise à zéro de la télécommande et du volet.</p>
<ul class="simple">
<li><p>Retourner la télécommande.</p></li>
<li><p>A l’aide d’un trombone, appuyer 5 fois sur le bouton R.</p></li>
</ul>
<p>La télécommande va clignoter rouge puis vert.</p>
<img alt="_images/profalux_inclusion_etape1.png" src="_images/profalux_inclusion_etape1.png" />
<p>Le volet va faire un va et vient (attendre un petit moment).</p>
<p>Attendre que la télécommande ne clignote plus.</p>
<ul class="simple">
<li><p>Dans la minute qui suit, appuyer sur STOP.</p></li>
</ul>
<p>Le volet va faire un va et vient.</p>
<p>Pour tester le bon fonctionnement, vous devriez pouvoir piloter le volet avec la télécommande.</p>
<p>Si jamais les commandes de votre volet sont inversées, il suffit à l’aide d’un trombone d’appuyer sur fois sur F et ensuite une fois sur STOP.</p>
<ul class="simple">
<li><p>Fermer le volet complètement.</p></li>
</ul>
<p>Étape 2</p>
<p>Inclusion du volet</p>
<p>Mettre la ruche en mode inclusion</p>
<ul class="simple">
<li><p>Pour cela appuyer sur le bouton inclusion depuis le plugin Abeille (La Zigate doit clignoter bleue)</p></li>
</ul>
<img alt="_images/inclusion.png" src="_images/inclusion.png" />
<p>Une fois le réseau de la Zigate ouvert, il ne vous reste plus qu’à:</p>
<ul class="simple">
<li><p>Retourner votre télécommande</p></li>
<li><p>Appuyer 1 fois sur R</p></li>
<li><p>Appuyer ensuite sur la flèche du haut</p></li>
</ul>
<p>Le moteur devrait faire plusieurs va et vient …
Attendre que la télécommande ne clignote plus !</p>
<ul class="simple">
<li><p>Pour finir, appuyer sur la touche STOP de la télécommande.</p></li>
<li><p>Ouvrir et fermer votre volet complètement 2 fois.</p></li>
</ul>
<p>A la fin de la 2ème fermeture, le volet fera un petit va et vient.</p>
<p>Faites un rafraichissement de votre dashboard et votre volet devrait apparaitre !!!</p>
<p><strong>Résolution</strong></p>
<p>Résolution de problèmes</p>
<p>Le volet ne répond plus à la télécommande.</p>
<p>Si par une mauvaise manipulation votre volet ne répond plus à la télécommande, il est nécessaire de faire un reset de la télécommande et du volet.</p>
<ul class="simple">
<li><p>Retourner l’appareil</p></li>
<li><p>A l’aide d’un trombone, appuyer 5 fois sur le bouton R</p></li>
</ul>
<img alt="_images/profalux_inclusion_etape1.png" src="_images/profalux_inclusion_etape1.png" />
<p>Attention c’est une manipulation dangereuse !</p>
<ul class="simple">
<li><p>Couper l’alimentation électrique</p></li>
<li><p>Réunir les fils noir et marron puis les brancher sur la borne de phase</p></li>
</ul>
<img alt="_images/profalux_inclusion_reset_volet2.png" src="_images/profalux_inclusion_reset_volet2.png" />
<ul class="simple">
<li><p>Remettre l’alimentation électrique pendant 5 secondes. Le volet devrait faire un petit mouvement.</p></li>
<li><p>Couper l’alimentation électrique</p></li>
<li><p>Séparer les fils noir et marron. Brancher le fils marron sur la phase. Si votre fils noir était brancher avec le bleu aupparavant, rebrancher le avec le bleu sinon laisser le fils noir seul en pensant à l’isoler(capuchon noir)</p></li>
</ul>
<img alt="_images/profalux_inclusion_reset_volet3.png" src="_images/profalux_inclusion_reset_volet3.png" />
<ul class="simple">
<li><p>Remettre l’alimentation électrique et dans la minute appuyer sur le bouton STOP</p></li>
</ul>
<img alt="_images/profalux_inclusion_reset_volet4.png" src="_images/profalux_inclusion_reset_volet4.png" />
<p>Le volet devrait faire des mouvement de va-et-vient puis s’arrêter
* La télécommande devrait à nouveau fonctionner
* Recommencer à nouveau la procédure d’inclusion</p>
</div>
<div class="section" id="avance">
<h3>Avancé<a class="headerlink" href="#avance" title="Lien permanent vers ce titre">¶</a></h3>
<p>Concernant le volet</p>
<blockquote>
<div><p>Profalux recommande de ne pas utiliser le cluster 0006 mais uniquement 0008 pour controler les volets.
D’autre part il est possible de faire un « bind » puis « configure report » sur le cluster 0008 attrib 0000 pour avoir un retour de position.</p>
</div></blockquote>
<p>Concernant la telecommande Zigbee.</p>
<p>R + STOP =&gt; déclenche l’ouverture du réseau.</p>
<blockquote>
<div><p>Si la télécommande était dans le réseau Zigate alors cette derniere se met à clignoter.</p>
</div></blockquote>
<p>R + MONTEE =&gt; déclenche un « device announce » du volet associé et de la télécommande.</p>
<blockquote>
<div><p>modelIdentifier =&gt; pas supporté
manufacturer =&gt; pas supporté
location =&gt; “TS”
8043/Simple descriptor response, SQN=12, Status=00, Addr=D70A, Length=1E, EP=01, ProfId=0104/ZigBee Home Automation (ZHA), DevId=0201/Shade Controller, BitField=00
- InClusterCount=03
- InCluster=0000 - General: Basic
- InCluster=0003 - General: Identify
- InCluster=0015 - General: Commissioning
- OutClusterCount=08
- OutCluster=0003 - General: Identify
- OutCluster=0004 - General: Groups
- OutCluster=0005 - General: Scenes
- OutCluster=0006 - General: On/Off
- OutCluster=0008 - General: Level Control
- OutCluster=0100 - Closures: Shade Configuration
- OutCluster=FC20 - Cluster FC20 inconnu
- OutCluster=FC21 - Cluster FC21 inconnu</p>
</div></blockquote>
<p>La télécommande s’annonce sur le réseau mais à priori on ne peut rien en faire du tout.</p>
<blockquote>
<div><p>A laisser entrer puis ignoer/masquer.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="sonoff">
<h2>SonOff<a class="headerlink" href="#sonoff" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="sonoff-snzb-01-interrupteur">
<h3>SonOff SNZB-01: Interrupteur<a class="headerlink" href="#sonoff-snzb-01-interrupteur" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1322">https://github.com/KiwiHC16/Abeille/issues/1322</a></p>
<p><strong>Fonctionenment</strong></p>
<p>Appui court: Toggle (Valeur 2)</p>
<p>Double clic: On (Valeur 1)</p>
<p>Clic long (4s): Off (Valeur 0)</p>
<p>Valeur dans la commande Click-Middle si inter bind sur la zigate.</p>
<p><strong>Inclusion</strong></p>
<ul class="simple">
<li><p>mettre la zigate en Inclusion</p></li>
<li><p>Avec trombone, 10s sur inter au dos</p></li>
</ul>
<p><strong>Exclusion</strong></p>
<ul class="simple">
<li><p>La zigate ne doit pas être en mode Inclusion</p></li>
<li><p>Avec trombone, 10s sur inter au dos</p></li>
</ul>
<p><strong>Reveil</strong></p>
<ul class="simple">
<li><p>Si le module n’a jamais été configuré, il faut faire une inclusion car il reste reveillé quelques secondes après inclusion.</p></li>
<li><p>Si le module est déjà configuré alors  un appui sur le bouton le reveille (J ai eu un cas ou il ne faisait pas de Data Request alors on ne peut pas lui parler, j ai du le re-inclure).</p></li>
</ul>
<p><strong>Configurer</strong></p>
<ul class="simple">
<li><p>Faire un bind vers l’équipement à piloter. Il fait ensuite On/Off/Toggle sur l’adresse de l’équipement.</p></li>
</ul>
</div>
<div class="section" id="sonoff-snzb-02-temperature-humidite">
<h3>SonOff SNZB-02: Temperature / Humidité<a class="headerlink" href="#sonoff-snzb-02-temperature-humidite" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1323">https://github.com/KiwiHC16/Abeille/issues/1323</a></p>
<p><strong>Fonctionenment</strong></p>
<p><strong>Inclusion</strong></p>
<ul class="simple">
<li><p>Zigate en inclusion</p></li>
<li><p>Appui long &gt;10s sur bouton lateral</p></li>
</ul>
<p><strong>Exclusion</strong></p>
<ul class="simple">
<li><p>Zigate pas en mode inclusion</p></li>
<li><p>Appui long &gt;10s sur bouton lateral</p></li>
</ul>
<p><strong>Reveil</strong></p>
<ul class="simple">
<li><p>Je ne parviens pas à le réveiller à l’aide du bouton lateral.</p></li>
<li><p>Si pas configuré, l’inclure et le configurer immédiatement</p></li>
<li><p>Une fois configuré, faire changer la temperature ou humidité (le mettre dans ses mains, souffler dans l ouverture) et il doit se reveiller.</p></li>
</ul>
<p><strong>Recuperation</strong></p>
<p>Si par erreur il a ete supprimé de jeedom, avec le plugin en mode « Blocage des annonce: non, blocage des recuperations: non », sur un changement de temperature il doit être re-créé dans Abeille.</p>
<p><strong>Configurer</strong></p>
<ul class="simple">
<li><p>bind/setreport sur temperature et humidite</p></li>
<li><p>bind sur Power</p></li>
</ul>
</div>
<div class="section" id="sonoff-snzb-03-capteur-ir">
<h3>SonOff SNZB-03: Capteur IR<a class="headerlink" href="#sonoff-snzb-03-capteur-ir" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1324">https://github.com/KiwiHC16/Abeille/issues/1324</a></p>
<p><strong>Fonctionenment</strong></p>
<p><strong>Inclusion</strong></p>
<p><strong>Exclusion</strong></p>
<p><strong>Reveil</strong></p>
<p><strong>Configurer</strong></p>
</div>
<div class="section" id="sonoff-snzb-04-capteur-de-porte">
<h3>SonOff SNZB-04: Capteur de porte<a class="headerlink" href="#sonoff-snzb-04-capteur-de-porte" title="Lien permanent vers ce titre">¶</a></h3>
<p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1325">https://github.com/KiwiHC16/Abeille/issues/1325</a></p>
<p><strong>Fonctionenment</strong></p>
<p><strong>Inclusion</strong></p>
<p><strong>Exclusion</strong></p>
<p><strong>Reveil</strong></p>
<p><strong>Configurer</strong></p>
</div>
<div class="section" id="sonoff-basiczbr3-module-10a">
<h3>SonOff BASICZBR3: Module 10A<a class="headerlink" href="#sonoff-basiczbr3-module-10a" title="Lien permanent vers ce titre">¶</a></h3>
<p>Comme je ne trouvais pas de relai piloté par zigbee j’ai fait ma propre bidouille. Comme d’habitude comme c’est sur le 220V, je ne suis pas responsable de vos actes. Vous faites ces manipulations que si vous savez ce que vous faites. Je ne pourrai être tenu responsable.</p>
<p>Vue d’ensemble du boitié:</p>
<img alt="_images/IMG_2369.jpg" src="_images/IMG_2369.jpg" />
<p>Il faut ouvrir la bête, le relai est le boitier noir vers le haut de la photo:</p>
<img alt="_images/IMG_2370.jpg" src="_images/IMG_2370.jpg" />
<p>On peut voir les pistes épaisses sous le dessous, allant sur les pattes du relai:</p>
<img alt="_images/IMG_2371.jpg" src="_images/IMG_2371.jpg" />
<p>Le relai lui même en 10A:</p>
<img alt="_images/IMG_2372.jpg" src="_images/IMG_2372.jpg" />
<p>Les deux grosses pistes qu’il va falloir couper:</p>
<img alt="_images/IMG_2373.jpg" src="_images/IMG_2373.jpg" />
<p>Au cuteur, découpe des deux pistes:</p>
<img alt="_images/IMG_2375.jpg" src="_images/IMG_2375.jpg" />
<p>Mais en faite cela ne suffit pas il faut prendre la perceuse et passer au travers completement:</p>
<img alt="_images/IMG_2376.jpg" src="_images/IMG_2376.jpg" />
<p>Souder un bout de cuivre entre la patte du relai et la piste extérieure:</p>
<img alt="_images/IMG_2377.jpg" src="_images/IMG_2377.jpg" />
<p>Et le tour est joué.</p>
<p>Note: lors du retablissement du courant, suite à une coupure de secteur par exemple, le module se souvient de son état initial et reposition le relai dans cet état.</p>
</div>
</div>
<div class="section" id="tuya">
<h2>Tuya<a class="headerlink" href="#tuya" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="interrupteur-sur-pile-ts0043">
<h3>Interrupteur sur pile TS0043<a class="headerlink" href="#interrupteur-sur-pile-ts0043" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Modeles</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1272">https://github.com/KiwiHC16/Abeille/issues/1272</a></p></li>
<li><p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1185">https://github.com/KiwiHC16/Abeille/issues/1185</a></p></li>
<li><p><a class="reference external" href="https://github.com/KiwiHC16/Abeille/issues/1406">https://github.com/KiwiHC16/Abeille/issues/1406</a></p></li>
</ul>
<p><strong>Necessaire</strong></p>
<ul class="simple">
<li><p>firmware 3.1d de la Zigate</p></li>
<li><p>Abeille stable après novembre 2020</p></li>
</ul>
<p><strong>Inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la zigate en Inclusion</p></li>
<li><p>Touchez sur un bouton pendant 10s, l inclusion se produit et l’inter est créé dans Abeille</p></li>
</ul>
<p><strong>Exclusion</strong></p>
<p><strong>Configuration</strong></p>
</div>
</div>
<div class="section" id="xiaomi">
<h2>Xiaomi<a class="headerlink" href="#xiaomi" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="tous">
<h3>Tous<a class="headerlink" href="#tous" title="Lien permanent vers ce titre">¶</a></h3>
<p>Tous les périphériques classiques</p>
<p><strong>Nouvelle inclusion</strong></p>
<ul class="simple">
<li><p>Mettre la Zigate en mode inclusion (Bouton Inclusion), la Led bleue de la Zigate doit clignoter…</p></li>
<li><p>Appui long de 7s sur le bouton du flanc de l’équipement, l’équipement doit se connecter et un objet doit apparaître dans Jeedom.</p></li>
</ul>
<p><strong>Déjà inclue</strong></p>
<ul class="simple">
<li><p>Zigate en fonctionnement normale</p></li>
<li><p>Appui court sur le bouton du flanc de l’équipement et l’objet Abeille doit être créé.</p></li>
</ul>
</div>
<div class="section" id="bouton-rond">
<h3>Bouton Rond<a class="headerlink" href="#bouton-rond" title="Lien permanent vers ce titre">¶</a></h3>
<p>Bouton Rond (lumi.sensor_switch)</p>
<p>Ce bouton envoie un message lors de l’appui mais aussi lors du relâchement. L’état dans Abeille/Jeedom reflète l’état du bouton.</p>
</div>
<div class="section" id="bouton-carre">
<h3>Bouton Carre<a class="headerlink" href="#bouton-carre" title="Lien permanent vers ce titre">¶</a></h3>
<p>Bouton Carre (lumi.sensor_switch.aq2)</p>
<p>Contrairement au bouton rond ci dessus, le bouton carré n’envoie pas d’information sur l’appui. Il envoie l’information que sur la relache.</p>
<p>Afin d’avoir le visuel sur le dashboard, l’état passe à 1 sur la réception du message et Jeedom attend 1 minute avant de le remettre à 0.</p>
<p><strong>Informations</strong></p>
<p>Informations complémentaires</p>
<p>Du fait de ce fonctionnement, nous ne pouvons avoir une approche changement d’état. Il faut avoir une approche événement. De ce fait la gestion des scénarii est un peu différente du bouton rond.</p>
<p>Par défaut le bouton est configuré pour déclencher les scénarii à chaque appui (même si l’état était déjà à 1). Mais Jeedom va aussi provoquer un événement au bout d’une minute en passant la valeur à 0.</p>
<p>Lors de l’exécution du scénario, si vous testé l’état du bouton est qu’il est à un vous avez reçu un événement appui bouton, si l’état est 0, vous avez reçu un événement retour à zéro après une minute.</p>
<p>Par exemple pour commander une ampoule Ikea:</p>
<img alt="_images/Capture_d_ecran_2018_09_04_a_13_05_49.png" src="_images/Capture_d_ecran_2018_09_04_a_13_05_49.png" />
<img alt="_images/Capture_d_ecran_2018_09_04_a_13_05_.36.png" src="_images/Capture_d_ecran_2018_09_04_a_13_05_.36.png" />
<p>Multi</p>
<p>Pour l’information multi, celle ci remonte quand on fait plus d’un appui sur le bouton. Multi prend alors la valeur remontée. Le bouton n’envoie pas d’autre information et donc la valeur reste indéfiniment. Par défaut l’objet créé demande à Jeedom de faire un retour d’état à 0 après une minute. Cela peut être enlevé dans les paramètres de la commande.</p>
<p>Le fonctionnement de base va provoquer 2 événements, un lors de l’appui multiple, puis un second après 1 minute (généré par Jeedom pour le retour d’état). Si vous enlevez de la commande le retour d’état alors vous n’aurez que l’événement appui multiple.
Par défaut, en gros, le scénario se déclenche et si vous testez la valeur multi &gt; 1, c’est un événement appui multiple et si valeur à 0 alors événement Jeedom de retour d’état.</p>
</div>
<div class="section" id="inondation">
<h3>Inondation<a class="headerlink" href="#inondation" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur Inondation (lumi.sensor_wleak.aq1)</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) sur le dessus</p></li>
</ul>
<p>Remonte son nom et attribut ff01 (longueur 34)</p>
</div>
<div class="section" id="porte-v1">
<h3>Porte V1<a class="headerlink" href="#porte-v1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur de Porte Ovale (lumi.sensor_magnet)</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) avec un trombone</p></li>
</ul>
<p>Remonte un champ ff02 avec 6 éléments
Puis son nom lumi.sensor_magnet</p>
</div>
<div class="section" id="porte-v2">
<h3>Porte V2<a class="headerlink" href="#porte-v2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur Porte Rectangle (lumi.sensor_magnet.aq2)</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) sur bouton latéral</p></li>
</ul>
<p>Remonte son nom et ff01 (len 29)</p>
<ul class="simple">
<li><p>Appui Long (7s) sur bouton latéral</p></li>
</ul>
<p>Inclusion
Remonte son nom et Application Version
Remonte ff01 (len 29)</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) avec trombone</p></li>
<li><p>Appui long (7s) avec trombone</p></li>
</ul>
<p>Inclusion
Remonte son nom
Remonte Appli Version
Remonte ff02 avec 6 éléments</p>
<ul class="simple">
<li><p>Double flash bleu sans action de notre part</p></li>
</ul>
<p>Visiblement quand le capteur fait un rejoin après avoir perdu le réseau par exemple, il fait un double flash bleu.</p>
</div>
<div class="section" id="presence-v2">
<h3>Présence V2<a class="headerlink" href="#presence-v2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur de Présence V2</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) sur bouton latéral</p></li>
</ul>
<p>Remonte son nom et FF01 de temps en temps.</p>
<ul class="simple">
<li><p>Appui long (7s) sur bouton latéral</p></li>
</ul>
<p>Inclusion
Remonte son nom et SW version
Remonte FF01 (len 33)</p>
<ul class="simple">
<li><p>Comportement</p></li>
</ul>
<p>Il remonte une info a chaque détection de présence et remonte en même temps la luminosité. Sinon la luminosité ne remonte pas d’elle même. Ce n’est pas un capteur de luminosité qui remonte l’information périodiquement.</p>
</div>
<div class="section" id="temperature-v1">
<h3>Température V1<a class="headerlink" href="#temperature-v1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur Température Rond (lumi.sensor_ht)</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) sur bouton latéral</p></li>
</ul>
<p>Remonte son nom</p>
<ul class="simple">
<li><p>Appui long (7s) sur bouton latéral</p></li>
</ul>
<p>Exclusion
Inclusion
Remonte son nom et appli version
Remonte ff01 (len 31)</p>
</div>
<div class="section" id="temperature-v2">
<h3>Température V2<a class="headerlink" href="#temperature-v2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur Température Carré (lumi.weather)</p>
<ul class="simple">
<li><p>Appui court (&lt;1s) sur bouton latéral</p></li>
</ul>
<p>Si sur le réseau: Remonte son nom
Si hors réseau et Zigate pas en Inclusion: Un flash bleu puis un flash bleu unique
Si hors réseau et Zigate en Inclusion: Un flash bleu, pause 2s, 3 flash bleu</p>
<ul class="simple">
<li><p>Appui long (7s) sur bouton latéral</p></li>
</ul>
<p>Exclusion
Inclusion
Remonte son nom et appli version
Remonte ff01 (len 37)</p>
<ul>
<li><p>Comportement</p>
<blockquote>
<div><ul class="simple">
<li><p>Si détection de petite variation de température ou humidité, rapport une fois par heure</p></li>
<li><p>Si variation de plus de 0,5°C ou de plus de 6% d’humidité, rapport immédiat</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Précision (Source Appli IOS MI FAQ Xiaomi)</p>
<blockquote>
<div><ul class="simple">
<li><p>Température +-0,3°C</p></li>
<li><p>Humidité +-3%</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="cube-aqara">
<h3>Cube Aqara<a class="headerlink" href="#cube-aqara" title="Lien permanent vers ce titre">¶</a></h3>
<img alt="_images/Capture_d_ecran_2018_06_12_a_22_00_03.png" src="_images/Capture_d_ecran_2018_06_12_a_22_00_03.png" />
</div>
<div class="section" id="wall-switch-1">
<h3>Wall Switch 1<a class="headerlink" href="#wall-switch-1" title="Lien permanent vers ce titre">¶</a></h3>
<p>Wall Switch Double Battery (lumi.sensor_86sw2)</p>
<ul class="simple">
<li><p>Appui long (7s) sur bouton de gauche</p></li>
</ul>
<p>Inclusion
Remonte son nom et appli version
Remonte ff01 (len 37)</p>
<ul class="simple">
<li><p>getName</p></li>
</ul>
<p>Il répond au getName sur EP 01 si on fait un appuie long sur l’interrupteur de droite (7s) et pendant cette période on fait un getName depuis la ruche.</p>
<ul class="simple">
<li><p>Appui très Long (&gt;10s) sur bouton de gauche</p></li>
</ul>
<p>Exclusion</p>
</div>
<div class="section" id="wall-switch-2">
<h3>Wall Switch 2<a class="headerlink" href="#wall-switch-2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Wall Switch Double 220V Sans Neutre (lumi.ctrl_neutral2)</p>
<ul class="simple">
<li><p>Appui long (7s) sur bouton de gauche</p></li>
</ul>
<p>Inclusion
Remonte son nom et appli version
Remonte d’autres informations</p>
<ul class="simple">
<li><p>getName</p></li>
</ul>
<p>Il répond au getName sur EP 01 s.</p>
<ul class="simple">
<li><p>Appui Tres Long (&gt;8s) sur bouton de gauche</p></li>
</ul>
<p>Exclusion</p>
<p><strong>« retour d’expérience » sur l’utilisation des Wall Switch Xiaomi</strong></p>
<p>J’ai remplacé un double inter par un Wall Switch Double 220V Sans Neutre (lumi.ctrl_neutral2)
J’ai ajouté un Wall Switch Double Battery (lumi.remote.b286acn01) pour donc simuler un double va-et-viens avec l’autre Wall switch.</p>
<p>Inclusion nickel pour les 2.
Comme d’habitude, j’ai du attendre 1 bonne journée pour que le réseau intègre bien les 2 Device (sans cela les commandes du neutral2 ne fonctionnaient pas toutes)</p>
<p>1) problèmes notés sur le Wall Switch Double 220V Sans Neutre (lumi.ctrl_neutral2) :
Les commandes depuis jeedom « On1 », « Off1 », « On2 », « Off2 » sont très lentes
A l’inverse les commandes « Toggle1 » et « 2 » sont assez réactives
évidement la commande par appui sur les poussoirs du bouton est très réactive quant à elle.</p>
<p>2) problèmes notés sur le Wall Switch Double sur Battery (lumi.remote.b286acn01) :
lors d’un appui sur n’importe quel switch, un événement est bien déclenché par l’info « etat1 » « 2 », ou « 3 ».
Donc un message très vite chopé et on peut déclencher un scénario.
MAIS (car il y a un mais) si on test la valeur d’un des informations « état.. » et bien elle ne change pas</p>
<p>Donc conclusion, comment utiliser tout ce matos ?
et bien c’est simple :</p>
<p>Pour le Wall Switch Double sur Battery, on déclenche les scénarios sur changement des info « état.. ».
mais on se fout des valeurs de ces info, on ne les teste pas, c’est du temps perdu.
au lieu de cela faire directement l’action « Toggle » sur le Wall Switch Double 220V.</p>
<p>Ca marche, et c’est assez réactif (la pire latence notée était juste au dessus de la seconde)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Si je me souviens bien ces switch se comportent comme des équipements terminaux sur pile (ils s’endorment), pas comme des routeurs (ampoules). La difference est que les ampoules sont en ecoute tout le temps et peuvent reagir immédiatement sur reception d’un message. Mais pour les interrupteurs le processus est different. La zigate envoie la demande qui est recue par les routeurs, ceux ci conserve la demande pendant 7s, l’interrupteur se reveille toutes les 5s (je crois me souvenir) et demande les commandes en attente pour lui. Le routeur qui sert l’interruptuer lui envoie la commande. Ceci explique ton delai observé. Le delai sera entre 0s et 5s en fonction du moment de reveil par rapport a l envoie de la demande. C est la meme chose pour On,Off et Toggle. On ne peut rien y faire c’est lié au firmware de l inter. Si tu veux cette meme fonction en instantané il faut que tu passes par un module relai xiaomi par exemple.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Voir le chapitre information du bouton carré ci dessus.</p>
</div>
</div>
<div class="section" id="vibration">
<h3>Vibration<a class="headerlink" href="#vibration" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur Vibration</p>
<ul class="simple">
<li><p>Appui long (7s) sur bouton de gauche</p></li>
</ul>
<p>Inclusion
Remonte son nom et appli version
Remonte d’autres informations</p>
<ul class="simple">
<li><p>Attribute 0055</p></li>
</ul>
<p>Il semblerai qu’une valeur:</p>
<ul class="simple">
<li><p>1 indique une détection de vibration</p></li>
<li><p>2 indique un rotation</p></li>
<li><p>3 indique une chute</p></li>
<li><p>Attribute 0503</p></li>
</ul>
<p>Pourrait être la rotation après l’envoi de l’attribut 0055 à la valeur 2</p>
<ul class="simple">
<li><p>Attribute 0508</p></li>
</ul>
<p>Inconnu, est envoyé après attribut 0055.</p>
<p> »
Si ça peut servir a quelqu’un
J’ai “presque” compris le fonctionnement de l’angle du capteur de vibration Xiaomi.</p>
<p>Donc, sensibilité réglée en “High”, on récupère :</p>
<p>Une Info “Evenement” qui va de 1 à 3
3 = choc violent
2 = je touche / bouge le capteur / fait tourner le capteur
1 = … ? retour a 1 après un 3 mais pas toujours, en résumé je n’ai pas trouvé de comportement répétitif et clair qui explique comment j’ai eu 1</p>
<p>Une info “Angle”
Je ne comprenais rien au valeur remontées mais j’ai enfin compris.
Il ne s’agit PAS d’une mesure d’angle absolue.
C’est en fait la variation d’angle effectuée depuis la dernière remontée de valeur.
Mais attention, c’est un valeur non signée, donc impossible de déterminer si il a continué de tourner ou bien si il est revenu en arrière.
Autre chose importante, le capteur n’envoi une nouvelle info d’angle QUE lorsqu’il s’est arrêté de tourner.
Il n’envoi rien durant le mouvement.
Donc en résumé, si vous lui faites faire doucement 3 tours sur lui-même et revenez à une position proche de quelques degrés … impossible de le savoir et vous ne recevrez dans l’info que ces quelques degrés de delta.
Dernière chose, la mesure se fait en rotation autour de 2 axes seulement. La rotation autour de l’axe vertical ne renvoi rien quel que soit la position du capteur.</p>
<p>Donc impossible avoir un angle d’ouverture de porte par exemple (rotation autour de la verticale).</p>
<p>Utilisation typique : un truc qui bascule puis s’arrête se stabilise… et qui revient a sa position ensuite. Il y a alors un envoi d’info a chaque position stable.
ex : porte de garage, lucarne basculante, lames de pergola bioclimatique, etc..</p>
<hr class="docutils" />
<p>Petit complément sur l’utilisation du capteur de vibration Xiaomi avec Abeille.</p>
<p>J’ai réussi sa mise en oeuvre comme détecteur de vent sur un store banne : Installé en bout de bras, juste protégé de la pluie au cas ou.. réglé en sensibilité « high »</p>
<p>Ca marche !!  :D</p>
<p>Vent fort ou rafale, le capteur envoi Evenement « 1 » ou « 3 » ou bien « 1 puis 3 ».. peu importe donc je commande le « Repli » du store si « 1 » ou « 3 »
(j’ai simulé le vent en secouant ou en tapant sur l’extrémité du store)</p>
<p>Et puis un erratum.
J’avais écrit « Il n’envoi rien durant le mouvement. ».. c’est FAUX.
Sur un mouvement lent et constant, il envoi régulièrement un Evenement « 2 »
Vu la position en bout de bras que je lui ai donné, le capteur détecte un changement d’angle et envoi trois message « 2 » avec un delta d’angle de 5 ou 6° durant le mouvement.</p>
<p>Le risque aurait été qu’il envoi « 1 » ou « 3 » durant l’extension du store, entraînant un repli immédiat mais non, tout se passe bien, il envoi seulement des « 2 ».</p>
<p>« </p>
</div>
<div class="section" id="fumee">
<h3>Fumée<a class="headerlink" href="#fumee" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur de fumée</p>
<ul class="simple">
<li><p>3 appuis sur le bouton de façade</p></li>
</ul>
<p>Inclusion ou Exclusion si la Zigate n’est pas en mode inclusion</p>
<ul class="simple">
<li><p>Sensibilité du capteur</p></li>
</ul>
<p>Il est possible de définir le seuil de détection du capteur: 3 niveaux (En développement).</p>
<ul class="simple">
<li><p>Test du capteur</p></li>
</ul>
<p>Avec le bouton tester, vous envoyez un message au capteur qui doit réagir avec un bip sonore (3 messages envoyés par Abeille, il doit y avoir entre 1 et 3 bips).</p>
<ul class="simple">
<li><p>Réveil</p></li>
</ul>
<p>Le capteur se réveille toutes les 15s pour savoir si la Zigate à des infos pour lui.</p>
</div>
<div class="section" id="gaz">
<h3>Gaz<a class="headerlink" href="#gaz" title="Lien permanent vers ce titre">¶</a></h3>
<p>Capteur Gaz</p>
<p>Ce capteur est un router.</p>
<ul class="simple">
<li><p>Paramètres</p></li>
</ul>
<p>Vous pouvez choisir le niveau de sensibilité: Low - Moyen - High</p>
<ul class="simple">
<li><p>Tester la bonne connexion au réseau</p></li>
</ul>
<p>Avec le bouton tester, vous envoyez un message au capteur qui doit réagir avec un bip sonore (3 messages envoyés par Abeille, il doit y avoir 3 bips à 5s d’intervalles).</p>
</div>
<div class="section" id="id6">
<h3>Prise<a class="headerlink" href="#id6" title="Lien permanent vers ce titre">¶</a></h3>
<p>On/Off retour etat en temps réel. Que ce soit sur commande depuis Jeedom ou sur utilisateur inter sur la prise.</p>
<p>Puissance: remonté toutes les secondes et demi si charge allumée. Sinon pas de remonté après la derniere remonté à 0.</p>
<p>Temperature, Conso, Current et Voltage: remonte de temps en temps toutes les 450s / 7.5min ou moins.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>

    <div class="footer">
      &copy;2019-21, KiwiHC16.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>